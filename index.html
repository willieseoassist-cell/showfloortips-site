<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShowFloorTips - #1 Trade Show Directory & Exhibitor Intelligence | 24,500+ Shows</title>
    <meta name="description" content="ShowFloorTips is the #1 trade show intelligence platform. Browse 24,500+ trade shows across 120+ countries with booth costs, venue details, nearby hotels, exhibitor strategy tips, and networking guides. Plan smarter. Exhibit better.">
    <meta name="keywords" content="trade show directory, trade show calendar, exhibitor tips, trade show booth, lead capture, trade show marketing, 2026 trade shows, exhibition directory, trade show database, upcoming expos, convention calendar">

    <meta property="og:title" content="ShowFloorTips - #1 Trade Show Directory & Exhibitor Intelligence">
    <meta property="og:description" content="Browse 24,500+ trade shows across 120+ countries. Booth costs, hotels, exhibitor tips, networking guides, and ROI tools. The platform exhibitors trust.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://showfloortips.com">
    <meta property="og:image" content="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=1200&h=630&fit=crop">
    <meta property="og:site_name" content="ShowFloorTips">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ShowFloorTips - #1 Trade Show Directory & Exhibitor Intelligence">
    <meta name="twitter:description" content="Browse 24,500+ trade shows across 120+ countries. Booth costs, hotels, exhibitor tips, and networking guides.">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=1200&h=630&fit=crop">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ShowFloorTips",
        "url": "https://showfloortips.com",
        "description": "The #1 trade show intelligence platform. Browse 24,500+ trade shows across 120+ countries with booth costs, venue details, nearby hotels, exhibitor strategy tips, and networking guides.",
        "publisher": {
            "@type": "Organization",
            "name": "ShowFloorTips",
            "url": "https://showfloortips.com"
        },
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://showfloortips.com/?search={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <link rel="stylesheet" href="/styles.css">
    <link rel="canonical" href="https://showfloortips.com">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0a0a0a">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Advanced Filters Styles -->
    <style>
        .advanced-filters-toggle {
            display: none;
        }
        .filter-badge {
            display: none;
        }
        .advanced-filters-panel {
            margin: 16px auto 0;
            width: 100%;
            max-width: 820px;
        }
        .advanced-filters-inner {
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
        }
        .af-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }
        .af-row:last-of-type {
            margin-bottom: 16px;
        }
        .af-group {
            flex: 1;
            min-width: 0;
        }
        .af-group-wide {
            flex: 2;
        }
        .af-label {
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
            text-align: left;
        }
        .af-input, .af-select {
            width: 100%;
            padding: 10px 14px;
            border: 1px solid #d1d5db;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #171717;
            background: #fff;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            box-sizing: border-box;
            -webkit-appearance: none;
            appearance: none;
        }
        .af-select {
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 36px;
        }
        .af-input:focus, .af-select:focus {
            outline: none;
            border-color: #171717;
            box-shadow: 0 0 0 3px rgba(23,23,23,0.08);
        }
        .af-input::placeholder {
            color: #9ca3af;
        }
        .af-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }
        .af-btn {
            padding: 10px 24px;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .af-btn-search {
            background: #0a0a0a;
            color: #fff;
        }
        .af-btn-search:hover {
            background: #1e293b;
        }
        .af-btn-clear {
            background: #f3f4f6;
            color: #374151;
        }
        .af-btn-clear:hover {
            background: #e5e7eb;
        }
        /* Mobile responsive */
        @media (max-width: 900px) {
            .af-row {
                grid-template-columns: 1fr 1fr;
                gap: 12px;
            }
            .af-group-wide {
                grid-column: 1 / -1;
            }
            .advanced-filters-inner {
                padding: 16px;
                border-radius: 12px;
            }
            .advanced-filters-panel {
                max-width: 100%;
            }
            .af-actions {
                flex-direction: column-reverse;
            }
            .af-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>

    <!-- New Interactive Features Styles -->
    <style>
        /* Search Autocomplete */
        .search-autocomplete {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            margin-top: 4px;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            z-index: 100;
            display: none;
        }
        .search-autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f5f5f5;
            transition: background 0.15s;
        }
        .search-autocomplete-item:hover {
            background: #fafafa;
        }
        .search-autocomplete-item:last-child {
            border-bottom: none;
        }
        .ac-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: #0a0a0a;
        }
        .ac-meta {
            font-size: 0.75rem;
            color: #737373;
            margin-top: 2px;
        }

        /* Recently Viewed */
        .recently-viewed-section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 24px 0;
        }
        .recently-viewed-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .recently-viewed-header h2 {
            font-family: 'Inter', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: #0a0a0a;
            letter-spacing: -0.02em;
        }
        .recently-viewed-header span {
            font-size: 0.75rem;
            color: #a3a3a3;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .recently-viewed-strip {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 8px;
            scrollbar-width: thin;
        }
        .recently-viewed-strip::-webkit-scrollbar {
            height: 4px;
        }
        .recently-viewed-strip::-webkit-scrollbar-thumb {
            background: #d4d4d4;
            border-radius: 4px;
        }
        .rv-card {
            flex: 0 0 200px;
            background: #fafafa;
            border: 1px solid #e5e5e5;
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            transition: box-shadow 0.2s, transform 0.2s;
            text-decoration: none;
            color: inherit;
        }
        .rv-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transform: translateY(-1px);
        }
        .rv-card-category {
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #a3a3a3;
            margin-bottom: 4px;
        }
        .rv-card-title {
            font-size: 0.85rem;
            font-weight: 700;
            color: #0a0a0a;
            line-height: 1.3;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .rv-card-meta {
            font-size: 0.72rem;
            color: #737373;
        }

        /* Bookmark Icon on Show Cards */
        .card-bookmark-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 32px;
            height: 32px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
            transition: background 0.2s, transform 0.15s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.12);
        }
        .card-bookmark-btn:hover {
            background: #fff;
            transform: scale(1.1);
        }
        .card-bookmark-btn.bookmarked svg {
            fill: #0a0a0a;
        }

        /* Toast Notification */
        .sft-toast {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(80px);
            background: #0a0a0a;
            color: #fff;
            padding: 12px 24px;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            z-index: 9999;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            pointer-events: none;
            box-shadow: 0 8px 24px rgba(0,0,0,0.2);
        }
        .sft-toast.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* Calendar Export Button in Modal */
        .modal-calendar-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 20px;
            background: #f5f5f5;
            color: #171717;
            border: 1px solid #e5e5e5;
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            text-decoration: none;
        }
        .modal-calendar-btn:hover {
            background: #e5e5e5;
        }

        @media (max-width: 900px) {
            .recently-viewed-strip { gap: 10px; }
            .rv-card { flex: 0 0 170px; padding: 12px; }
        }
    </style>
</head>
<body>

    <!-- FOMO Ticker Banner -->
    <div id="fomoBanner" style="background:#0a0a0a;color:#fff;text-align:center;padding:10px 16px;font-family:'Inter',sans-serif;font-size:0.8rem;font-weight:500;letter-spacing:0.02em;display:none;cursor:pointer" onclick="document.getElementById('shows').scrollIntoView({behavior:'smooth'})">
        <span id="fomoText"></span>
    </div>

    <!-- Header -->
    <header>
        <div class="header-inner">
            <a href="/" class="logo">ShowFloorTips</a>
            <nav>
                <ul class="nav-links">
                    <li><a href="/#shows">Trade Shows</a></li>
                    <li><a href="/news.html">News</a></li>
                    <li><a href="/travel.html">Travel</a></li>
                    <li><a href="/roi-calculator.html">ROI Calculator</a></li>
                    <li><a href="/products.html">Products</a></li>
                    <li><a href="/scannly.html" class="nav-cta">Try Scannly</a></li>
                </ul>
            </nav>
            <button id="darkModeToggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode" style="background:none;border:none;cursor:pointer;padding:4px;color:var(--gray-500);display:flex;align-items:center">
<svg id="darkIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
<svg id="lightIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
            <button class="mobile-menu-btn" onclick="document.querySelector('.nav-links').classList.toggle('show')" aria-label="Menu"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-content">
            <h1>Your Trade Show<br>Command Center</h1>
            <p class="subtitle">The world's most comprehensive trade show database. 24,500+ upcoming shows across 120+ countries with venue intel, exhibitor strategies, and everything you need to dominate the show floor.</p>
            <div class="search-container" style="position:relative">
                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                <input type="text" id="searchInput" placeholder="Search by show name, city, country, or industry..." autocomplete="off">
                <div class="search-autocomplete" id="searchAutocomplete"></div>
            </div>
            <!-- Search Filters -->
            <div class="advanced-filters-panel" id="advancedFiltersPanel">
                <div class="advanced-filters-inner">
                    <div class="af-row">
                        <div class="af-group">
                            <label class="af-label" for="afCountry">Country</label>
                            <select class="af-select" id="afCountry" onchange="onCountryChange(); applyAdvancedFilters()">
                                <option value="">All Countries</option>
                            </select>
                        </div>
                        <div class="af-group">
                            <label class="af-label" for="afState">State</label>
                            <select class="af-select" id="afState" onchange="onStateChange(); applyAdvancedFilters()">
                                <option value="">All States</option>
                            </select>
                        </div>
                        <div class="af-group">
                            <label class="af-label" for="afCity">City</label>
                            <select class="af-select" id="afCity" onchange="applyAdvancedFilters()">
                                <option value="">All Cities</option>
                            </select>
                        </div>
                        <div class="af-group">
                            <label class="af-label" for="afAttendees">Attendees</label>
                            <select class="af-select" id="afAttendees" onchange="applyAdvancedFilters()">
                                <option value="">Any</option>
                                <option value="0-1000">Under 1,000</option>
                                <option value="1000-5000">1,000 - 5,000</option>
                                <option value="5000-10000">5,000 - 10,000</option>
                                <option value="10000-50000">10,000 - 50,000</option>
                                <option value="50000-999999">50,000+</option>
                                <option value="100000-999999">100,000+</option>
                            </select>
                        </div>
                    </div>
                    <div class="af-row" style="margin-bottom:0">
                        <div class="af-group">
                            <label class="af-label" for="afExhibitors">Exhibitors</label>
                            <select class="af-select" id="afExhibitors" onchange="applyAdvancedFilters()">
                                <option value="">Any</option>
                                <option value="0-100">Under 100</option>
                                <option value="100-500">100 - 500</option>
                                <option value="500-1000">500 - 1,000</option>
                                <option value="1000-5000">1,000 - 5,000</option>
                                <option value="5000-999999">5,000+</option>
                            </select>
                        </div>
                        <div class="af-group" style="grid-column: 3 / 5">
                            <label class="af-label">&nbsp;</label>
                            <div class="af-actions" style="margin-top:0">
                                <button class="af-btn af-btn-search" onclick="applyAdvancedFilters()">Search Shows</button>
                                <button class="af-btn af-btn-clear" id="afClearBtn" onclick="clearAdvancedFilters()">Clear Filters</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Hidden date inputs for JS compatibility -->
            <input type="hidden" id="afDateFrom">
            <input type="hidden" id="afDateTo">
        </div>
    </section>

    <!-- Stats Bar -->
    <div class="stats-bar">
        <div class="stats-inner">
            <div class="stat-item">
                <div class="stat-number" id="statShows">--</div>
                <div class="stat-label">Upcoming Shows</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">20</div>
                <div class="stat-label">Industries</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="statCountries">--</div>
                <div class="stat-label">Countries</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="statCities">--</div>
                <div class="stat-label">Cities</div>
            </div>
        </div>
    </div>

    <!-- Recently Viewed Shows -->
    <section class="recently-viewed-section" id="recentlyViewedSection" style="display:none">
        <div class="recently-viewed-header">
            <h2>Recently Viewed</h2>
            <span>Pick up where you left off</span>
        </div>
        <div class="recently-viewed-strip" id="recentlyViewedStrip"></div>
    </section>

    <!-- Happening Soon - Countdown Timers -->
    <section id="happeningSoon" style="max-width:1200px;margin:0 auto;padding:24px 24px 0">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
            <h2 style="font-family:'Inter',sans-serif;font-size:1.25rem;font-weight:700;color:#0a0a0a;letter-spacing:-0.02em">Happening Soon</h2>
            <span style="font-size:0.75rem;color:#a3a3a3;font-weight:500;text-transform:uppercase;letter-spacing:0.05em">Live Countdowns</span>
        </div>
        <div id="countdownGrid" style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
        </div>
    </section>

    <!-- Trending Shows This Week -->
    <section id="trendingSection" style="max-width:1200px;margin:0 auto;padding:24px 24px 0">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
            <h2 style="font-family:'Inter',sans-serif;font-size:1.25rem;font-weight:700;color:#0a0a0a;letter-spacing:-0.02em">Trending Shows This Week</h2>
            <span style="font-size:0.75rem;color:#a3a3a3;font-weight:500;text-transform:uppercase;letter-spacing:0.05em">By Attendance</span>
        </div>
        <div id="trendingGrid" style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
        </div>
    </section>

    <!-- Latest Insights -->
    <section id="latestInsights" style="max-width:1200px;margin:0 auto;padding:24px 24px 0">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
            <h2 style="font-family:'Inter',sans-serif;font-size:1.25rem;font-weight:700;color:#0a0a0a;letter-spacing:-0.02em">Latest Insights</h2>
            <a href="/news.html" style="font-size:0.8rem;color:#525252;font-weight:600;text-decoration:none;font-family:'Inter',sans-serif">View All &rarr;</a>
        </div>
        <div id="insightsGrid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:16px">
        </div>
    </section>

    <!-- Filters -->
    <div class="filters-section">
        <div class="filter-controls">
            <div class="filter-bar" id="filterBar">
                <button class="filter-pill active" data-category="all">All Shows</button>
                <button class="filter-pill" data-category="saved" id="savedShowsPill" style="display:none">Saved Shows</button>
                <button class="filter-pill" data-category="Technology">Technology</button>
                <button class="filter-pill" data-category="Healthcare">Healthcare</button>
                <button class="filter-pill" data-category="Food & Beverage">Food & Bev</button>
                <button class="filter-pill" data-category="Construction">Construction</button>
                <button class="filter-pill" data-category="Manufacturing">Manufacturing</button>
                <button class="filter-pill" data-category="Energy">Energy</button>
                <button class="filter-pill" data-category="Automotive">Automotive</button>
                <button class="filter-pill" data-category="Fashion & Beauty">Fashion</button>
                <button class="filter-pill" data-category="Education">Education</button>
                <button class="filter-pill" data-category="Travel & Hospitality">Travel</button>
                <button class="filter-pill" data-category="Sports & Recreation">Sports</button>
                <button class="filter-pill" data-category="Agriculture">Agriculture</button>
                <button class="filter-pill" data-category="Arts & Entertainment">Entertainment</button>
                <button class="filter-pill" data-category="Defense & Security">Defense</button>
                <button class="filter-pill" data-category="Finance">Finance</button>
                <button class="filter-pill" data-category="Environmental">Environmental</button>
                <button class="filter-pill" data-category="Packaging & Logistics">Logistics</button>
                <button class="filter-pill" data-category="Pet & Animal">Pets</button>
                <button class="filter-pill" data-category="Real Estate">Real Estate</button>
                <button class="filter-pill" data-category="Business & Trade">Business</button>
            </div>
            <div class="filter-dropdowns">
                <select class="filter-select" id="countryFilter">
                    <option value="all">All Countries</option>
                </select>
                <select class="sort-select" id="sortSelect">
                    <option value="date">Sort by Date</option>
                    <option value="name">Sort by Name</option>
                    <option value="category">Sort by Category</option>
                    <option value="country">Sort by Country</option>
                    <option value="attendees">Sort by Attendees</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Shows Grid -->
    <section class="shows-section" id="shows">
        <div class="shows-header">
            <span class="shows-count" id="showsCount">Loading shows...</span>
        </div>
        <div class="shows-grid" id="showsGrid"></div>
        <div class="load-more-container" id="loadMoreContainer" style="display:none">
            <button class="load-more-btn" id="loadMoreBtn">Load More Shows</button>
        </div>
    </section>

    <!-- Browse by Industry -->
    <section class="industry-section" id="industries">
        <div class="section-header">
            <h2>Best Trade Shows by Industry</h2>
            <p>Explore the top-ranked exhibitions in every major industry, sorted by size and impact.</p>
        </div>
        <div class="industry-grid">
            <a href="/best-trade-shows/technology" class="industry-card"><span class="industry-icon">üíª</span><span>Technology</span></a>
            <a href="/best-trade-shows/healthcare" class="industry-card"><span class="industry-icon">üè•</span><span>Healthcare</span></a>
            <a href="/best-trade-shows/food-beverage" class="industry-card"><span class="industry-icon">üçΩÔ∏è</span><span>Food & Beverage</span></a>
            <a href="/best-trade-shows/construction" class="industry-card"><span class="industry-icon">üèóÔ∏è</span><span>Construction</span></a>
            <a href="/best-trade-shows/manufacturing" class="industry-card"><span class="industry-icon">üè≠</span><span>Manufacturing</span></a>
            <a href="/best-trade-shows/energy" class="industry-card"><span class="industry-icon">‚ö°</span><span>Energy</span></a>
            <a href="/best-trade-shows/automotive" class="industry-card"><span class="industry-icon">üöó</span><span>Automotive</span></a>
            <a href="/best-trade-shows/fashion-beauty" class="industry-card"><span class="industry-icon">üëó</span><span>Fashion & Beauty</span></a>
            <a href="/best-trade-shows/education" class="industry-card"><span class="industry-icon">üéì</span><span>Education</span></a>
            <a href="/best-trade-shows/travel-hospitality" class="industry-card"><span class="industry-icon">‚úàÔ∏è</span><span>Travel & Hospitality</span></a>
            <a href="/best-trade-shows/sports-recreation" class="industry-card"><span class="industry-icon">üèÜ</span><span>Sports & Recreation</span></a>
            <a href="/best-trade-shows/agriculture" class="industry-card"><span class="industry-icon">üåæ</span><span>Agriculture</span></a>
            <a href="/best-trade-shows/arts-entertainment" class="industry-card"><span class="industry-icon">üé≠</span><span>Arts & Entertainment</span></a>
            <a href="/best-trade-shows/defense-security" class="industry-card"><span class="industry-icon">üõ°Ô∏è</span><span>Defense & Security</span></a>
            <a href="/best-trade-shows/finance" class="industry-card"><span class="industry-icon">üí∞</span><span>Finance</span></a>
            <a href="/best-trade-shows/environmental" class="industry-card"><span class="industry-icon">üåç</span><span>Environmental</span></a>
            <a href="/best-trade-shows/packaging-logistics" class="industry-card"><span class="industry-icon">üì¶</span><span>Packaging & Logistics</span></a>
            <a href="/best-trade-shows/pet-animal" class="industry-card"><span class="industry-icon">üêæ</span><span>Pet & Animal</span></a>
            <a href="/best-trade-shows/real-estate" class="industry-card"><span class="industry-icon">üè†</span><span>Real Estate</span></a>
            <a href="/best-trade-shows/business-trade" class="industry-card"><span class="industry-icon">üíº</span><span>Business & Trade</span></a>
        </div>
    </section>

    <!-- Browse by City -->
    <section class="industry-section">
        <div class="section-header">
            <h2>Trade Shows by City</h2>
            <p>Find upcoming trade shows in the world's top convention cities.</p>
        </div>
        <div class="industry-grid">
            <a href="/trade-shows-in/las-vegas" class="industry-card"><span class="industry-icon">üé∞</span><span>Las Vegas</span></a>
            <a href="/trade-shows-in/orlando" class="industry-card"><span class="industry-icon">üå¥</span><span>Orlando</span></a>
            <a href="/trade-shows-in/chicago" class="industry-card"><span class="industry-icon">üèôÔ∏è</span><span>Chicago</span></a>
            <a href="/trade-shows-in/new-york" class="industry-card"><span class="industry-icon">üóΩ</span><span>New York</span></a>
            <a href="/trade-shows-in/london" class="industry-card"><span class="industry-icon">üá¨üáß</span><span>London</span></a>
            <a href="/trade-shows-in/paris" class="industry-card"><span class="industry-icon">üá´üá∑</span><span>Paris</span></a>
            <a href="/trade-shows-in/dubai" class="industry-card"><span class="industry-icon">üèúÔ∏è</span><span>Dubai</span></a>
            <a href="/trade-shows-in/berlin" class="industry-card"><span class="industry-icon">üá©üá™</span><span>Berlin</span></a>
            <a href="/trade-shows-in/shanghai" class="industry-card"><span class="industry-icon">üá®üá≥</span><span>Shanghai</span></a>
            <a href="/trade-shows-in/tokyo" class="industry-card"><span class="industry-icon">üáØüáµ</span><span>Tokyo</span></a>
            <a href="/trade-shows-in/singapore" class="industry-card"><span class="industry-icon">üá∏üá¨</span><span>Singapore</span></a>
            <a href="/trade-shows-in/houston" class="industry-card"><span class="industry-icon">ü§†</span><span>Houston</span></a>
            <a href="/trade-shows-in/atlanta" class="industry-card"><span class="industry-icon">üçë</span><span>Atlanta</span></a>
            <a href="/trade-shows-in/los-angeles" class="industry-card"><span class="industry-icon">üåá</span><span>Los Angeles</span></a>
            <a href="/trade-shows-in/mumbai" class="industry-card"><span class="industry-icon">üáÆüá≥</span><span>Mumbai</span></a>
            <a href="/trade-shows-in/dallas" class="industry-card"><span class="industry-icon">‚õ≥</span><span>Dallas</span></a>
            <a href="/trade-shows-in/san-francisco" class="industry-card"><span class="industry-icon">üåâ</span><span>San Francisco</span></a>
            <a href="/trade-shows-in/miami" class="industry-card"><span class="industry-icon">üåä</span><span>Miami</span></a>
            <a href="/trade-shows-in/frankfurt" class="industry-card"><span class="industry-icon">üè¶</span><span>Frankfurt</span></a>
            <a href="/trade-shows-in/munich" class="industry-card"><span class="industry-icon">üç∫</span><span>Munich</span></a>
        </div>
    </section>

    <!-- Scannly CTA -->
    <section class="cta-section">
        <div class="cta-box">
            <div class="cta-box-content">
                <h3>Capture More Leads at Your Next Show</h3>
                <p>Stop fumbling with business cards. Scannly lets attendees scan your QR code to instantly share contact info, track engagement, and follow up faster than your competition.</p>
                <ul>
                    <li>Instant contact capture via QR code</li>
                    <li>Real-time lead notifications</li>
                    <li>CRM integration ready</li>
                    <li>Free to download</li>
                </ul>
            </div>
            <a href="https://apps.apple.com/us/app/scannly/id6746970463" class="btn btn-primary">Download Scannly Free</a>
        </div>
    </section>

    <!-- Products -->
    <section class="products-section" id="products">
        <div class="section-header">
            <h2>Exhibitor Tools & Templates</h2>
            <p>Ready-to-use resources to streamline your trade show prep and follow-up.</p>
        </div>
        <div class="product-grid">
            <div class="product-card">
                <span class="product-badge">Best Seller</span>
                <h3>Trade Show Budget & ROI Calculator</h3>
                <p>Plan every expense and calculate your true ROI with this comprehensive Excel template. Track booth costs, travel, marketing, and measure results.</p>
                <span class="product-price">$12.99</span>
                <a href="/products.html" class="btn btn-primary">Get Template</a>
            </div>
            <div class="product-card">
                <h3>Post-Show Follow-Up Email Pack</h3>
                <p>5 proven email templates to convert trade show leads into customers. Personalized sequences for hot, warm, and cold leads.</p>
                <span class="product-price">$9.99</span>
                <a href="/products.html" class="btn btn-primary">Get Templates</a>
            </div>
            <div class="product-card">
                <h3>Pre-Show Planning Checklist</h3>
                <p>30-day countdown checklist covering everything from booth design to staff training. Never miss a detail before your next show.</p>
                <span class="product-price">$7.99</span>
                <a href="/products.html" class="btn btn-primary">Get Checklist</a>
            </div>
        </div>
    </section>

    <!-- Tips -->
    <section class="tips-section" id="tips">
        <div class="tips-section-inner">
            <div class="section-header">
                <h2>Exhibitor Playbook</h2>
                <p>Proven strategies from seasoned trade show professionals.</p>
            </div>
            <div class="tips-grid">
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                    </div>
                    <h3>Set Clear Goals</h3>
                    <p>Define success before the show. Leads generated, meetings booked, or brand awareness metrics. Know your numbers.</p>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                    </div>
                    <h3>Capture Digitally</h3>
                    <p>Business cards get lost. Use QR-based lead capture for instant, accurate data collection and real-time follow-up.</p>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                    </div>
                    <h3>Follow Up Fast</h3>
                    <p>48 hours max. Your competitors are emailing leads right now. Personalize outreach and reference specific conversations.</p>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    </div>
                    <h3>Train Your Team</h3>
                    <p>Everyone at the booth should know the pitch, qualification criteria, and lead capture process cold.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter ‚Äî Powered by Beehiiv -->
    <section class="newsletter-section" id="newsletter">
        <div class="newsletter-box">
            <h2>Weekly Trade Show Intel</h2>
            <p>Join exhibitors who get actionable tips every Tuesday. No spam, just strategies that work.</p>
            <div style="max-width:480px;margin:0 auto;">
                <iframe src="https://embeds.beehiiv.com/3ced7630-50d2-4bb9-8f43-728c48a80034?slim=true" data-test-id="beehiiv-embed" height="52" frameborder="0" scrolling="no" style="margin:0;border-radius:0;background-color:transparent;width:100%;"></iframe>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-inner">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="logo">ShowFloorTips</div>
                    <p>The world's most comprehensive trade show database. Expert intelligence and resources for exhibitors across 93 countries.</p>
                </div>
                <div class="footer-col">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#shows">Trade Shows</a></li>
                        <li><a href="/products.html">Products</a></li>
                        <li><a href="#tips">Exhibitor Tips</a></li>
                        <li><a href="#newsletter">Newsletter</a></li>
                        <li><a href="/travel.html">Travel Guides</a></li>
                        <li><a href="/flight-deals.html">Flight Deals</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="/scannly.html">Scannly - Lead Capture</a></li>
                        <li><a href="/roi-calculator.html">ROI Calculator</a></li>
                        <li><a href="/cost-estimator.html">Cost Estimator</a></li>
                        <li><a href="/lead-calculator.html">Lead Calculator</a></li>
                        <li><a href="/compare.html">Show Comparison</a></li>
                        <li><a href="/map.html">Interactive Map</a></li>
                        <li><a href="/packing-list.html">Packing List</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Top Industries</h4>
                    <ul>
                        <li><a href="#" onclick="filterBy('Technology');return false">Technology</a></li>
                        <li><a href="#" onclick="filterBy('Healthcare');return false">Healthcare</a></li>
                        <li><a href="#" onclick="filterBy('Construction');return false">Construction</a></li>
                        <li><a href="#" onclick="filterBy('Manufacturing');return false">Manufacturing</a></li>
                        <li><a href="#" onclick="filterBy('Energy');return false">Energy</a></li>
                        <li><a href="#" onclick="filterBy('Food & Beverage');return false">Food & Beverage</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 ShowFloorTips.com</p>
                <p>Built for exhibitors, by exhibitors</p>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="modal">
            <div class="modal-header" id="modalHeader">
                <button class="modal-close" id="modalClose">&times;</button>
                <div class="modal-header-content">
                    <span class="modal-category" id="modalCategory"></span>
                    <h2 id="modalTitle"></h2>
                    <div class="modal-header-meta">
                        <span id="modalDate">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                            <span class="meta-text"></span>
                        </span>
                        <span id="modalLocation">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                            <span class="meta-text"></span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="modal-tabs">
                <button class="modal-tab active" data-tab="overview">Overview</button>
                <button class="modal-tab" data-tab="hotels">Hotels</button>
                <button class="modal-tab" data-tab="tips">Exhibitor Tips</button>
            </div>
            <div class="modal-body">
                <div class="modal-tab-content active" id="tab-overview">
                    <div class="overview-grid" id="overviewGrid"></div>
                    <p class="show-description" id="showDescription"></p>
                </div>
                <div class="modal-tab-content" id="tab-hotels">
                    <div class="hotel-list" id="hotelList"></div>
                    <a class="hotel-search-link" id="hotelSearchLink" href="#" target="_blank" rel="noopener">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                        Search All Hotels on Booking.com
                    </a>
                </div>
                <div class="modal-tab-content" id="tab-tips">
                    <ol class="tips-list" id="tipsList"></ol>
                </div>
            </div>
            <div class="modal-actions">
                <a class="btn btn-primary" id="modalWebsite" href="#" target="_blank" rel="noopener">Visit Official Website</a>
                <a class="btn btn-primary" id="modalSearchWebsite" href="#" target="_blank" rel="noopener" style="display:none">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                    Find Official Website
                </a>
                <button class="modal-calendar-btn" id="modalCalendarBtn" onclick="window.downloadCalendarICS()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    Add to Calendar
                </button>
                <a class="btn btn-outline" id="modalShowPage" href="#">Read Full Exhibitor Guide</a>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="sft-toast" id="sftToast"></div>

    <!-- Show Data -->
    <script src="/shows.js"></script>

    <!-- App Logic -->
    <script>
    (function() {
        'use strict';

        const ITEMS_PER_PAGE = 24;
        let currentFilter = 'all';
        let currentCountry = 'all';
        let currentSearch = '';
        let currentSort = 'date';
        let visibleCount = ITEMS_PER_PAGE;
        let filteredShows = [];

        // Advanced filter state
        let afDateFrom = '';
        let afDateTo = '';
        let afState = '';
        let afCity = '';
        let afCountry = '';
        let afAttendees = '';
        let afExhibitors = '';

        // Lookup maps
        let countryCitiesMap = {};
        let stateCitiesMap = {};
        let countryStatesMap = {};

        // US state abbreviation to full name
        const STATE_NAMES = {
            'AL':'Alabama','AK':'Alaska','AZ':'Arizona','AR':'Arkansas','CA':'California',
            'CO':'Colorado','CT':'Connecticut','DE':'Delaware','DC':'District of Columbia',
            'FL':'Florida','GA':'Georgia','HI':'Hawaii','ID':'Idaho','IL':'Illinois',
            'IN':'Indiana','IA':'Iowa','KS':'Kansas','KY':'Kentucky','LA':'Louisiana',
            'ME':'Maine','MD':'Maryland','MA':'Massachusetts','MI':'Michigan','MN':'Minnesota',
            'MS':'Mississippi','MO':'Missouri','MT':'Montana','NE':'Nebraska','NV':'Nevada',
            'NH':'New Hampshire','NJ':'New Jersey','NM':'New Mexico','NY':'New York',
            'NC':'North Carolina','ND':'North Dakota','OH':'Ohio','OK':'Oklahoma','OR':'Oregon',
            'PA':'Pennsylvania','RI':'Rhode Island','SC':'South Carolina','SD':'South Dakota',
            'TN':'Tennessee','TX':'Texas','UT':'Utah','VT':'Vermont','VA':'Virginia',
            'WA':'Washington','WV':'West Virginia','WI':'Wisconsin','WY':'Wyoming'
        };

        // Category colors
        const CAT_COLORS = {
            'Technology': '#171717',
            'Healthcare': '#171717',
            'Food & Beverage': '#171717',
            'Fashion & Beauty': '#171717',
            'Construction': '#171717',
            'Manufacturing': '#171717',
            'Energy': '#171717',
            'Finance': '#171717',
            'Education': '#171717',
            'Real Estate': '#171717',
            'Automotive': '#171717',
            'Agriculture': '#171717',
            'Defense & Security': '#171717',
            'Travel & Hospitality': '#171717',
            'Sports & Recreation': '#171717',
            'Arts & Entertainment': '#171717',
            'Packaging & Logistics': '#171717',
            'Environmental': '#171717',
            'Pet & Animal': '#171717',
            'Business & Trade': '#171717'
        };

        const ICONS = {
            calendar: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>',
            location: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>',
            arrow: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>',
            people: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>',
            globe: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>'
        };

        function init() {
            if (typeof SHOWS_DATA === 'undefined') {
                document.getElementById('showsGrid').innerHTML = '<div class="no-results"><h3>Loading show data...</h3><p>Shows data is being generated. Check back soon.</p></div>';
                return;
            }

            // Stats
            const cities = new Set(SHOWS_DATA.map(s => s.city).filter(Boolean));
            const countries = new Set(SHOWS_DATA.map(s => s.country).filter(Boolean));
            document.getElementById('statShows').textContent = SHOWS_DATA.length.toLocaleString();
            document.getElementById('statCities').textContent = cities.size.toLocaleString();
            document.getElementById('statCountries').textContent = countries.size;

            // Populate country dropdown
            const countrySelect = document.getElementById('countryFilter');
            const countryCounts = {};
            SHOWS_DATA.forEach(s => {
                if (s.country) countryCounts[s.country] = (countryCounts[s.country] || 0) + 1;
            });
            Object.keys(countryCounts)
                .sort((a, b) => countryCounts[b] - countryCounts[a])
                .forEach(country => {
                    const opt = document.createElement('option');
                    opt.value = country;
                    opt.textContent = country + ' (' + countryCounts[country] + ')';
                    countrySelect.appendChild(opt);
                });

            // Populate advanced filters country dropdown (alphabetical)
            var afCountrySelect = document.getElementById('afCountry');
            Object.keys(countryCounts).sort().forEach(function(country) {
                var opt = document.createElement('option');
                opt.value = country;
                opt.textContent = country + ' (' + countryCounts[country] + ')';
                afCountrySelect.appendChild(opt);
            });

            // Build lookup maps: country->cities, country->states, state->cities
            countryCitiesMap = {};
            stateCitiesMap = {};
            countryStatesMap = {};
            SHOWS_DATA.forEach(function(s) {
                var c = s.country || '';
                var city = s.city || '';
                var st = s.state || '';
                if (c && city) {
                    if (!countryCitiesMap[c]) countryCitiesMap[c] = {};
                    countryCitiesMap[c][city] = (countryCitiesMap[c][city] || 0) + 1;
                }
                if (c && st) {
                    if (!countryStatesMap[c]) countryStatesMap[c] = {};
                    countryStatesMap[c][st] = (countryStatesMap[c][st] || 0) + 1;
                }
                if (st && city) {
                    if (!stateCitiesMap[st]) stateCitiesMap[st] = {};
                    stateCitiesMap[st][city] = (stateCitiesMap[st][city] || 0) + 1;
                }
            });

            applyFilters();
            bindEvents();
        }

        function bindEvents() {
            // Filter pills
            document.querySelectorAll('.filter-pill').forEach(pill => {
                pill.addEventListener('click', function() {
                    document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.dataset.category;
                    visibleCount = ITEMS_PER_PAGE;
                    applyFilters();
                });
            });

            // Country filter
            document.getElementById('countryFilter').addEventListener('change', function() {
                currentCountry = this.value;
                visibleCount = ITEMS_PER_PAGE;
                applyFilters();
            });

            // Search
            let searchTimeout;
            document.getElementById('searchInput').addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentSearch = this.value.trim().toLowerCase();
                    visibleCount = ITEMS_PER_PAGE;
                    applyFilters();
                }, 300);
            });

            // Sort
            document.getElementById('sortSelect').addEventListener('change', function() {
                currentSort = this.value;
                applyFilters();
            });

            // Load more
            document.getElementById('loadMoreBtn').addEventListener('click', function() {
                visibleCount += ITEMS_PER_PAGE;
                renderCards();
            });

            // Modal close
            document.getElementById('modalClose').addEventListener('click', closeModal);
            document.getElementById('modalOverlay').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeModal();
            });

            // Advanced filters - real-time filtering
            var afDebounce;
            ['afDateFrom','afDateTo'].forEach(function(id) {
                var el = document.getElementById(id);
                if (el) el.addEventListener('input', function() {
                    clearTimeout(afDebounce);
                    afDebounce = setTimeout(function() { applyAdvancedFromInputs(); }, 300);
                });
            });

            // Modal tabs
            document.querySelectorAll('.modal-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.modal-tab-content').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('tab-' + this.dataset.tab).classList.add('active');
                });
            });
        }

        function parseNumericValue(str) {
            if (!str) return 0;
            var cleaned = String(str).replace(/[^0-9]/g, '');
            return parseInt(cleaned, 10) || 0;
        }

        function applyAdvancedFromInputs() {
            afDateFrom = document.getElementById('afDateFrom').value;
            afDateTo = document.getElementById('afDateTo').value;
            afState = document.getElementById('afState').value;
            afCity = document.getElementById('afCity').value;
            afCountry = document.getElementById('afCountry').value;
            afAttendees = document.getElementById('afAttendees').value;
            afExhibitors = document.getElementById('afExhibitors').value;
            visibleCount = ITEMS_PER_PAGE;
            updateFilterBadge();
            applyFilters();
        }

        function countActiveAdvancedFilters() {
            var count = 0;
            if (afDateFrom) count++;
            if (afDateTo) count++;
            if (afState) count++;
            if (afCity) count++;
            if (afCountry) count++;
            if (afAttendees) count++;
            if (afExhibitors) count++;
            return count;
        }

        function updateFilterBadge() {
            var count = countActiveAdvancedFilters();
            var badge = document.getElementById('filterBadge');
            if (!badge) return;
            if (count > 0) {
                badge.textContent = count + ' filter' + (count > 1 ? 's' : '') + ' active';
                badge.style.display = 'inline-block';
            } else {
                badge.style.display = 'none';
            }
        }

        function applyFilters() {
            filteredShows = SHOWS_DATA.filter(show => {
                if (currentFilter === 'saved') {
                    if (getSavedShows().indexOf(show.slug) === -1) return false;
                } else if (currentFilter !== 'all' && show.category !== currentFilter) return false;
                if (currentCountry !== 'all' && show.country !== currentCountry) return false;
                if (currentSearch) {
                    const text = (show.title + ' ' + show.city + ' ' + show.state + ' ' + show.category + ' ' + show.venue + ' ' + (show.country || '')).toLowerCase();
                    if (!text.includes(currentSearch)) return false;
                }
                // Advanced filters
                if (afDateFrom && show.sort_date && show.sort_date < afDateFrom) return false;
                if (afDateTo && show.sort_date && show.sort_date > afDateTo) return false;
                if (afState && show.state !== afState) return false;
                if (afCity && show.city !== afCity) return false;
                if (afCountry && show.country !== afCountry) return false;
                if (afAttendees) {
                    var parts = afAttendees.split('-');
                    var minA = parseInt(parts[0], 10);
                    var maxA = parseInt(parts[1], 10);
                    var numA = parseNumericValue(show.attendees);
                    if (numA < minA || numA > maxA) return false;
                }
                if (afExhibitors) {
                    var partsE = afExhibitors.split('-');
                    var minE = parseInt(partsE[0], 10);
                    var maxE = parseInt(partsE[1], 10);
                    var numE = parseNumericValue(show.exhibitors);
                    if (numE < minE || numE > maxE) return false;
                }
                return true;
            });

            // Sort
            filteredShows.sort((a, b) => {
                if (currentSort === 'date') return (a.sort_date || '').localeCompare(b.sort_date || '');
                if (currentSort === 'name') return a.title.localeCompare(b.title);
                if (currentSort === 'category') return a.category.localeCompare(b.category);
                if (currentSort === 'country') return (a.country || '').localeCompare(b.country || '');
                if (currentSort === 'attendees') {
                    var na = parseInt((a.attendees || '0').replace(/[^0-9]/g, '')) || 0;
                    var nb = parseInt((b.attendees || '0').replace(/[^0-9]/g, '')) || 0;
                    return nb - na;
                }
                return 0;
            });

            renderCards();
        }

        function renderCards() {
            const grid = document.getElementById('showsGrid');
            const visible = filteredShows.slice(0, visibleCount);

            var countLabel = filteredShows.length.toLocaleString() + ' show' + (filteredShows.length !== 1 ? 's' : '');
            if (currentFilter === 'saved') countLabel += ' in Saved Shows';
            else if (currentFilter !== 'all') countLabel += ' in ' + currentFilter;
            if (currentCountry !== 'all') countLabel += ' in ' + currentCountry;
            var afCount = countActiveAdvancedFilters();
            if (afCount > 0) countLabel += ' (' + afCount + ' filter' + (afCount > 1 ? 's' : '') + ' applied)';
            document.getElementById('showsCount').textContent = countLabel;

            if (visible.length === 0) {
                grid.innerHTML = '<div class="no-results"><h3>No shows found</h3><p>Try a different search term, category, or country filter.</p></div>';
                document.getElementById('loadMoreContainer').style.display = 'none';
                return;
            }

            grid.innerHTML = visible.map((show, i) => {
                const color = CAT_COLORS[show.category] || '#64748b';
                var locationText = show.city || show.location || '';
                if (show.state) locationText += ', ' + show.state;
                if (show.country && show.country !== 'United States') {
                    locationText = show.location || show.city || '';
                    if (show.country) locationText += ', ' + show.country;
                }
                var attendeeBadge = '';
                if (show.attendees) {
                    attendeeBadge = '<span class="card-attendees">' + ICONS.people + ' ' + escapeHtml(show.attendees) + '</span>';
                }
                var isBookmarked = getSavedShows().indexOf(show.slug) !== -1;
                var bmClass = isBookmarked ? ' bookmarked' : '';
                return '<div class="show-card" onclick="openShow(' + i + ')">' +
                    '<div class="card-image" style="background-image:url(\'' + escapeHtml(show.image) + '\')">' +
                        '<span class="card-category" style="background:' + color + '">' + escapeHtml(show.category) + '</span>' +
                        '<button class="card-bookmark-btn' + bmClass + '" onclick="event.stopPropagation();toggleBookmark(\'' + escapeHtml(show.slug) + '\',this)" title="Save show">' +
                            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0a0a0a" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>' +
                        '</button>' +
                    '</div>' +
                    '<div class="card-body">' +
                        '<h3>' + escapeHtml(show.title) + '</h3>' +
                        '<div class="card-meta">' +
                            '<div class="card-meta-item">' + ICONS.calendar + '<span>' + escapeHtml(show.date) + '</span></div>' +
                            '<div class="card-meta-item">' + ICONS.location + '<span>' + escapeHtml(locationText) + '</span></div>' +
                        '</div>' +
                        attendeeBadge +
                    '</div>' +
                    '<div class="card-footer">' +
                        '<span class="card-source">' + escapeHtml(show.source || '') + '</span>' +
                        '<span class="card-arrow">View Details ' + ICONS.arrow + '</span>' +
                    '</div>' +
                '</div>';
            }).join('');

            const loadMore = document.getElementById('loadMoreContainer');
            loadMore.style.display = visibleCount < filteredShows.length ? 'block' : 'none';
        }

        function escapeHtml(str) {
            if (!str) return '';
            return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');
        }

        function isAggregatorUrl(url) {
            if (!url) return true;
            var aggs = ['tradefairdates.com','eventsinamerica.com','thetradeshowcalendar.com','messeninfo.de','10times.com','eventseye.com','tsnn.com'];
            var lower = url.toLowerCase();
            for (var i = 0; i < aggs.length; i++) {
                if (lower.indexOf(aggs[i]) !== -1) return true;
            }
            return false;
        }

        // Track current modal show for calendar export
        var currentModalShow = null;

        window.openShow = function(index) {
            const show = filteredShows[index];
            if (!show) return;
            currentModalShow = show;

            // Save to recently viewed
            saveRecentlyViewed(show);

            const color = CAT_COLORS[show.category] || '#64748b';

            document.getElementById('modalHeader').style.backgroundImage = 'url(' + show.image + ')';
            document.getElementById('modalCategory').textContent = show.category;
            document.getElementById('modalCategory').style.background = color;
            document.getElementById('modalTitle').textContent = show.title;
            document.querySelector('#modalDate .meta-text').textContent = show.date;

            var loc = show.location || '';
            if (show.country && show.country !== 'United States') loc += ', ' + show.country;
            document.querySelector('#modalLocation .meta-text').textContent = loc;

            // Overview
            const grid = document.getElementById('overviewGrid');
            grid.innerHTML =
                '<div class="detail-card"><h4>Venue</h4><p>' + escapeHtml(show.venue || show.location) + '</p></div>' +
                '<div class="detail-card"><h4>Location</h4><p>' + escapeHtml(show.city + (show.state ? ', ' + show.state : '') + (show.country && show.country !== 'United States' ? ', ' + show.country : '')) + '</p></div>' +
                '<div class="detail-card"><h4>Organizer</h4><p>' + escapeHtml(show.host || 'Visit official website') + '</p></div>' +
                '<div class="detail-card"><h4>Est. Booth Cost</h4><p>' + escapeHtml(show.booth_price || 'Contact organizer') + '</p></div>' +
                (show.registration_info ? '<div class="detail-card"><h4>Registration</h4><p>' + escapeHtml(show.registration_info) + '</p></div>' : '') +
                (show.attendees ? '<div class="detail-card"><h4>Expected Attendance</h4><p>' + escapeHtml(show.attendees) + '</p></div>' : '') +
                (show.exhibitors ? '<div class="detail-card"><h4>Exhibitors</h4><p>' + escapeHtml(show.exhibitors) + '</p></div>' : '') +
                (show.country ? '<div class="detail-card"><h4>Country</h4><p>' + escapeHtml(show.country) + '</p></div>' : '');

            document.getElementById('showDescription').textContent = show.description || 'Visit the official website for complete show details, floor plans, and registration information.';

            // Hotels
            const hotelList = document.getElementById('hotelList');
            const hotelCity = show.city || '';
            const hotelVenue = show.venue || '';
            if (show.hotels && show.hotels.length > 0) {
                hotelList.innerHTML = show.hotels.map(h => {
                    const bookUrl = 'https://www.booking.com/searchresults.html?ss=' + encodeURIComponent(h.name + ' ' + hotelCity);
                    return '<div class="hotel-item">' +
                        '<div class="hotel-info"><h4>' + escapeHtml(h.name) + '</h4><p>' + escapeHtml(h.distance) + ' from venue</p></div>' +
                        '<div class="hotel-actions"><span class="hotel-price">' + escapeHtml(h.price) + '</span>' +
                        '<a href="' + bookUrl + '" target="_blank" rel="noopener" class="hotel-book-btn">Book Hotel</a></div>' +
                    '</div>';
                }).join('');
            } else {
                hotelList.innerHTML = '<p style="color:var(--text-secondary)">Use the search link below to find the best hotel deals near the venue.</p>';
            }

            const searchCity = encodeURIComponent((hotelVenue || show.title) + ' ' + hotelCity);
            document.getElementById('hotelSearchLink').href = 'https://www.booking.com/searchresults.html?ss=' + searchCity;

            // Tips
            const tips = show.tips || getDefaultTips(show.category);
            document.getElementById('tipsList').innerHTML = tips.map((tip, i) =>
                '<li><span class="tip-number">' + (i + 1) + '</span><span>' + escapeHtml(tip) + '</span></li>'
            ).join('') +
            '<li class="scannly-tip"><span class="tip-number" style="background:#6366f1;color:#fff">\u2713</span><span><strong>Pro Tip:</strong> Use <a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" rel="noopener" style="color:#6366f1;font-weight:600">Scannly</a> to capture leads instantly at your booth. Scan badges, share contact info via QR code, and export leads in seconds. <a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" rel="noopener" class="scannly-dl-btn">Download Scannly</a></span></li>';

            // Actions - use show.website (real URL or DDG redirect)
            const websiteBtn = document.getElementById('modalWebsite');
            const searchBtn = document.getElementById('modalSearchWebsite');
            const websiteUrl = show.website || 'https://duckduckgo.com/?q=' + encodeURIComponent('\\ ' + show.title + ' ' + (show.city || '') + ' official website');

            websiteBtn.href = websiteUrl;
            websiteBtn.textContent = 'Visit Official Website';
            websiteBtn.style.display = 'inline-flex';
            searchBtn.style.display = 'none';
            document.getElementById('modalShowPage').href = '/shows/' + show.slug;

            // Reset tabs
            document.querySelectorAll('.modal-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.modal-tab-content').forEach(c => c.classList.remove('active'));
            document.querySelector('.modal-tab[data-tab="overview"]').classList.add('active');
            document.getElementById('tab-overview').classList.add('active');

            document.getElementById('modalOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        };

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        function getDefaultTips(category) {
            const tips = {
                'Technology': [
                    'Showcase live product demos with interactive touchscreens and screens',
                    'Offer device charging stations at your booth to attract tech-savvy attendees',
                    'Use AR/VR experiences to demonstrate complex solutions interactively',
                    'Prepare a strong Wi-Fi hotspot - tech attendees expect connectivity',
                    'Record demo videos for social media content during the show'
                ],
                'Healthcare': [
                    'Ensure all materials comply with HIPAA and relevant regulatory guidelines',
                    'Have clinical staff available to answer technical questions',
                    'Display case studies with measurable patient outcomes and ROI data',
                    'Bring product samples with proper handling documentation',
                    'Prepare CME/CE credit information if applicable to your products'
                ],
                'Food & Beverage': [
                    'Offer product samples - check venue health regulations first',
                    'Use refrigerated displays to keep products at optimal temperature',
                    'Prepare ingredient lists and allergen information for all samples',
                    'Partner with local chefs for live cooking demonstrations',
                    'Have retail-ready packaging on display for buyer evaluation'
                ],
                'Fashion & Beauty': [
                    'Create Instagram-worthy photo opportunities at your booth',
                    'Use professional lighting to showcase fabric quality and detail',
                    'Offer exclusive show-only discounts and early access to new lines',
                    'Display lookbooks and line sheets for wholesale buyers',
                    'Have fitting rooms or mirrors available for product trials'
                ],
                'Construction': [
                    'Bring physical material samples for hands-on evaluation',
                    'Display before/after project photography with measurable results',
                    'Have safety certification documentation ready for review',
                    'Showcase scale models or VR walkthroughs of completed projects',
                    'Prepare technical specifications and compliance documentation'
                ],
                'Manufacturing': [
                    'Showcase machinery with video if equipment is too large for the floor',
                    'Highlight quality certifications (ISO 9001, AS9100, etc.)',
                    'Offer factory tour invitations to serious prospects',
                    'Display raw material samples and finished product comparisons',
                    'Prepare capacity and lead time information for buyer discussions'
                ],
                'Energy': [
                    'Bring working models or simulations of energy solutions',
                    'Display ROI calculations and energy savings case studies',
                    'Have technical specifications ready for engineering discussions',
                    'Showcase certifications and regulatory compliance documentation',
                    'Prepare data on environmental impact and sustainability metrics'
                ],
                'Automotive': [
                    'Display actual vehicle components or working prototypes when possible',
                    'Use interactive touchscreens for configurators and spec comparisons',
                    'Prepare OEM compatibility charts and certification documentation',
                    'Have supply chain and lead time data ready for fleet buyers',
                    'Showcase testing results and durability data prominently'
                ],
                'Defense & Security': [
                    'Have proper export control and ITAR documentation prepared',
                    'Display certifications (mil-spec, UL, etc.) prominently',
                    'Prepare for secure discussions with classified/sensitive demos',
                    'Bring demo units for hands-on evaluation by procurement officers',
                    'Have contract vehicle and pricing structure information ready'
                ],
                'Travel & Hospitality': [
                    'Create immersive destination experiences with VR or large displays',
                    'Offer exclusive show rates and booking incentives',
                    'Have digital brochures and rate cards ready for travel agents',
                    'Display customer reviews and satisfaction metrics prominently',
                    'Prepare group and corporate booking information'
                ],
                'Sports & Recreation': [
                    'Allow hands-on product testing and demonstrations',
                    'Display athlete endorsements and performance data',
                    'Create engaging photo opportunities with your products',
                    'Have bulk order and dealer pricing ready for retailers',
                    'Showcase durability testing results and warranty information'
                ],
                'Arts & Entertainment': [
                    'Create an immersive booth experience that showcases your medium',
                    'Offer live demonstrations or performances at scheduled times',
                    'Display portfolio work with professional lighting and presentation',
                    'Have licensing and collaboration information ready',
                    'Prepare digital media kits for press and industry contacts'
                ],
                'Agriculture': [
                    'Bring actual product samples for hands-on evaluation',
                    'Display yield improvement data and field trial results',
                    'Have compatibility information for existing equipment systems',
                    'Prepare seasonal availability and delivery timeline information',
                    'Showcase sustainability and environmental compliance data'
                ],
                'Finance': [
                    'Prepare ROI case studies and performance data for key products',
                    'Have compliance and regulatory documentation readily available',
                    'Display security certifications and data protection measures',
                    'Offer live demonstrations of platforms and tools',
                    'Prepare integration information for existing financial systems'
                ],
                'Environmental': [
                    'Display measurable environmental impact data and case studies',
                    'Showcase certifications (LEED, EPA, ISO 14001) prominently',
                    'Bring working models or samples of environmental solutions',
                    'Prepare regulatory compliance documentation for different regions',
                    'Have ROI and cost-saving calculations for green investments'
                ],
                'Education': [
                    'Offer live demonstrations of educational tools and platforms',
                    'Display student outcome data and institutional case studies',
                    'Prepare volume licensing and institutional pricing information',
                    'Have integration guides for existing LMS and school systems',
                    'Showcase accessibility features and compliance information'
                ],
                'Packaging & Logistics': [
                    'Bring actual packaging samples for hands-on evaluation',
                    'Display cost comparison data and efficiency metrics',
                    'Showcase sustainability features and recyclability information',
                    'Prepare minimum order quantities and lead time data',
                    'Have custom capability information and design services ready'
                ],
                'Pet & Animal': [
                    'Bring product samples for attendees to see and feel',
                    'Display safety certifications and ingredient sourcing information',
                    'Have retail packaging and point-of-sale materials ready',
                    'Prepare wholesale pricing and minimum order information',
                    'Showcase customer testimonials and product testing data'
                ]
            };
            return tips[category] || [
                'Set clear goals before the show - define leads, meetings, or awareness targets',
                'Book your booth early for the best positioning on the show floor',
                'Promote your presence via email, social media, and your website beforehand',
                'Train every team member on key messages and lead qualification criteria',
                'Follow up with all leads within 48 hours while the conversation is fresh'
            ];
        }

        window.filterBy = function(cat) {
            currentFilter = cat;
            document.querySelectorAll('.filter-pill').forEach(p => {
                p.classList.toggle('active', p.dataset.category === cat);
            });
            visibleCount = ITEMS_PER_PAGE;
            applyFilters();
            document.getElementById('shows').scrollIntoView({ behavior: 'smooth' });
        };

        window.toggleAdvancedFilters = function() {
            var panel = document.getElementById('advancedFiltersPanel');
            var toggle = document.getElementById('advancedFiltersToggle');
            panel.classList.toggle('open');
            toggle.classList.toggle('open');
        };

        window.clearAdvancedFilters = function() {
            document.getElementById('afDateFrom').value = '';
            document.getElementById('afDateTo').value = '';
            document.getElementById('afState').value = '';
            document.getElementById('afState').innerHTML = '<option value="">All States</option>';
            document.getElementById('afCity').value = '';
            document.getElementById('afCity').innerHTML = '<option value="">All Cities</option>';
            document.getElementById('afCountry').value = '';
            document.getElementById('afAttendees').value = '';
            document.getElementById('afExhibitors').value = '';
            afDateFrom = '';
            afDateTo = '';
            afState = '';
            afCity = '';
            afCountry = '';
            afAttendees = '';
            afExhibitors = '';
            updateFilterBadge();
            visibleCount = ITEMS_PER_PAGE;
            applyFilters();
        };

        // When country changes: populate State dropdown (if US) and City dropdown
        window.onCountryChange = function() {
            var countryVal = document.getElementById('afCountry').value;
            var stateSelect = document.getElementById('afState');
            var citySelect = document.getElementById('afCity');

            // Reset state and city
            stateSelect.innerHTML = '<option value="">All States</option>';
            citySelect.innerHTML = '<option value="">All Cities</option>';
            afState = '';
            afCity = '';

            // Populate states if this country has them
            if (countryVal && countryStatesMap[countryVal]) {
                var stateAbbrs = Object.keys(countryStatesMap[countryVal]).sort(function(a, b) {
                    var nameA = STATE_NAMES[a] || a;
                    var nameB = STATE_NAMES[b] || b;
                    return nameA.localeCompare(nameB);
                });
                stateAbbrs.forEach(function(st) {
                    var opt = document.createElement('option');
                    opt.value = st;
                    opt.textContent = (STATE_NAMES[st] || st) + ' (' + countryStatesMap[countryVal][st] + ')';
                    stateSelect.appendChild(opt);
                });
            }

            // Populate cities for this country
            if (countryVal && countryCitiesMap[countryVal]) {
                var cityList = Object.keys(countryCitiesMap[countryVal]).sort();
                cityList.forEach(function(city) {
                    var opt = document.createElement('option');
                    opt.value = city;
                    opt.textContent = city + ' (' + countryCitiesMap[countryVal][city] + ')';
                    citySelect.appendChild(opt);
                });
            }
        };

        // When state changes: narrow City dropdown to cities in that state
        window.onStateChange = function() {
            var stateVal = document.getElementById('afState').value;
            var citySelect = document.getElementById('afCity');
            citySelect.innerHTML = '<option value="">All Cities</option>';
            afCity = '';

            if (stateVal && stateCitiesMap[stateVal]) {
                var cities = Object.keys(stateCitiesMap[stateVal]).sort();
                cities.forEach(function(city) {
                    var opt = document.createElement('option');
                    opt.value = city;
                    opt.textContent = city + ' (' + stateCitiesMap[stateVal][city] + ')';
                    citySelect.appendChild(opt);
                });
            } else {
                // No state selected - show all cities for the selected country
                var countryVal = document.getElementById('afCountry').value;
                if (countryVal && countryCitiesMap[countryVal]) {
                    var cityList = Object.keys(countryCitiesMap[countryVal]).sort();
                    cityList.forEach(function(city) {
                        var opt = document.createElement('option');
                        opt.value = city;
                        opt.textContent = city + ' (' + countryCitiesMap[countryVal][city] + ')';
                        citySelect.appendChild(opt);
                    });
                }
            }
        };

        window.applyAdvancedFilters = function() {
            applyAdvancedFromInputs();
        };

        // Newsletter handled by Beehiiv embed

        // ‚îÄ‚îÄ Addiction Features ‚îÄ‚îÄ

        function initAddictionFeatures() {
            if (typeof SHOWS_DATA === 'undefined') return;
            renderFomoBanner();
            renderCountdowns();
            renderTrending();
            renderLatestInsights();
            // Update countdowns every second
            setInterval(updateCountdowns, 1000);
        }

        // FOMO Banner - shows how many shows are happening this week
        function renderFomoBanner() {
            var now = new Date();
            var weekEnd = new Date(now);
            weekEnd.setDate(weekEnd.getDate() + 7);
            var thisWeek = SHOWS_DATA.filter(function(s) {
                var d = new Date(s.sort_date);
                return d >= now && d <= weekEnd;
            });
            var banner = document.getElementById('fomoBanner');
            var text = document.getElementById('fomoText');
            if (thisWeek.length > 0) {
                text.innerHTML = 'üî• ' + thisWeek.length + ' trade shows happening this week ‚Äî Don\'t miss out ‚Üí Browse now';
                banner.style.display = 'block';
            } else {
                var monthEnd = new Date(now);
                monthEnd.setDate(monthEnd.getDate() + 30);
                var thisMonth = SHOWS_DATA.filter(function(s) {
                    var d = new Date(s.sort_date);
                    return d >= now && d <= monthEnd;
                });
                if (thisMonth.length > 0) {
                    text.innerHTML = 'üìÖ ' + thisMonth.length + ' shows in the next 30 days ‚Äî Start planning now ‚Üí';
                    banner.style.display = 'block';
                }
            }
        }

        // Countdown timers for the 4 nearest upcoming shows
        var countdownShows = [];
        function renderCountdowns() {
            var now = new Date();
            var upcoming = SHOWS_DATA.filter(function(s) {
                return new Date(s.sort_date) >= now;
            }).sort(function(a, b) {
                return new Date(a.sort_date) - new Date(b.sort_date);
            }).slice(0, 4);
            countdownShows = upcoming;
            var grid = document.getElementById('countdownGrid');
            grid.innerHTML = upcoming.map(function(s, i) {
                return '<div id="cd-' + i + '" style="background:#fafafa;border:1px solid #e5e5e5;border-radius:12px;padding:16px;cursor:pointer;transition:box-shadow 0.2s" onclick="window.location.href=\'/shows/' + s.slug + '\'" onmouseover="this.style.boxShadow=\'0 4px 12px rgba(0,0,0,0.08)\'" onmouseout="this.style.boxShadow=\'none\'">' +
                    '<div style="font-size:0.7rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;color:#a3a3a3;margin-bottom:4px">' + s.category + '</div>' +
                    '<div style="font-size:0.9rem;font-weight:700;color:#0a0a0a;margin-bottom:4px;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">' + s.title + '</div>' +
                    '<div style="font-size:0.75rem;color:#737373;margin-bottom:8px">' + s.city + (s.country ? ', ' + s.country : '') + '</div>' +
                    '<div id="cd-timer-' + i + '" style="font-size:1.1rem;font-weight:800;color:#0a0a0a;font-variant-numeric:tabular-nums"></div>' +
                    '<div style="font-size:0.65rem;color:#a3a3a3;font-weight:500;margin-top:2px">until show opens</div>' +
                '</div>';
            }).join('');
            updateCountdowns();
        }

        function updateCountdowns() {
            var now = new Date();
            countdownShows.forEach(function(s, i) {
                var el = document.getElementById('cd-timer-' + i);
                if (!el) return;
                var target = new Date(s.sort_date);
                var diff = target - now;
                if (diff <= 0) {
                    el.textContent = 'HAPPENING NOW';
                    el.style.color = '#dc2626';
                    return;
                }
                var days = Math.floor(diff / 86400000);
                var hours = Math.floor((diff % 86400000) / 3600000);
                var mins = Math.floor((diff % 3600000) / 60000);
                var secs = Math.floor((diff % 60000) / 1000);
                if (days > 0) {
                    el.textContent = days + 'd ' + hours + 'h ' + mins + 'm ' + secs + 's';
                } else {
                    el.textContent = hours + 'h ' + mins + 'm ' + secs + 's';
                }
            });
        }

        // Trending shows - top 4 by attendee count (upcoming only)
        function renderTrending() {
            var now = new Date();
            var trending = SHOWS_DATA.filter(function(s) {
                return new Date(s.sort_date) >= now && s.attendees;
            }).sort(function(a, b) {
                return parseNumericValue(b.attendees) - parseNumericValue(a.attendees);
            }).slice(0, 4);
            var grid = document.getElementById('trendingGrid');
            grid.innerHTML = trending.map(function(s, i) {
                var rank = i + 1;
                return '<div style="background:#fafafa;border:1px solid #e5e5e5;border-radius:12px;padding:16px;cursor:pointer;transition:box-shadow 0.2s;position:relative" onclick="window.location.href=\'/shows/' + s.slug + '\'" onmouseover="this.style.boxShadow=\'0 4px 12px rgba(0,0,0,0.08)\'" onmouseout="this.style.boxShadow=\'none\'">' +
                    '<div style="position:absolute;top:12px;right:12px;width:24px;height:24px;background:#0a0a0a;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.7rem;font-weight:800">' + rank + '</div>' +
                    '<div style="font-size:0.7rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;color:#a3a3a3;margin-bottom:4px">' + s.category + '</div>' +
                    '<div style="font-size:0.9rem;font-weight:700;color:#0a0a0a;margin-bottom:4px;line-height:1.3;padding-right:28px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">' + s.title + '</div>' +
                    '<div style="font-size:0.75rem;color:#737373;margin-bottom:6px">' + s.date + '</div>' +
                    '<div style="font-size:0.85rem;font-weight:700;color:#0a0a0a">' + s.attendees + ' attendees</div>' +
                '</div>';
            }).join('');
        }

        // Latest Insights - pull from NEWS_DATA if available, otherwise static
        function renderLatestInsights() {
            var grid = document.getElementById('insightsGrid');
            var articles = [
                {
                    title: 'AI Is Eating SaaS Alive ‚Äî What Every Exhibitor Must Know',
                    summary: 'Anthropic\'s Claude plugins triggered a SaaS market correction. Here\'s what the AI disruption means for your next trade show strategy.',
                    url: '/news/ai-disruption-what-exhibitors-must-know-2026.html',
                    badge: 'Industry Insight',
                    image: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=400&fit=crop'
                },
                {
                    title: 'Cybersecurity Threats Your Booth Tech Can\'t Ignore',
                    summary: 'SolarWinds exploits, ransomware attacks on payment processors, and supply chain compromises ‚Äî your trade show tech stack is a target.',
                    url: '/news/cybersecurity-threats-trade-show-booth-technology.html',
                    badge: 'Industry Insight',
                    image: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=800&h=400&fit=crop'
                },
                {
                    title: 'The EU Chip Race: Why Semiconductor Shows Are Exploding',
                    summary: 'Europe just poured ‚Ç¨2.5 billion into chip manufacturing. Semiconductor trade shows are the hottest ticket in 2026.',
                    url: '/news/eu-chip-race-semiconductor-trade-shows-2026.html',
                    badge: 'Industry Insight',
                    image: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop'
                }
            ];
            grid.innerHTML = articles.map(function(a) {
                return '<a href="' + a.url + '" style="background:#fff;border:1px solid #e5e5e5;border-radius:12px;overflow:hidden;text-decoration:none;color:inherit;transition:box-shadow 0.2s,transform 0.2s;display:block" onmouseover="this.style.boxShadow=\'0 8px 24px rgba(0,0,0,0.1)\';this.style.transform=\'translateY(-2px)\'" onmouseout="this.style.boxShadow=\'none\';this.style.transform=\'none\'">' +
                    '<img src="' + a.image + '" alt="' + a.title + '" style="width:100%;height:160px;object-fit:cover">' +
                    '<div style="padding:16px">' +
                        '<span style="display:inline-block;padding:2px 8px;background:#171717;color:#fff;font-size:0.65rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;border-radius:50px;margin-bottom:8px">' + a.badge + '</span>' +
                        '<div style="font-size:0.95rem;font-weight:700;color:#0a0a0a;line-height:1.3;margin-bottom:6px">' + a.title + '</div>' +
                        '<div style="font-size:0.8rem;color:#737373;line-height:1.5">' + a.summary + '</div>' +
                    '</div>' +
                '</a>';
            }).join('');
        }

        // ‚îÄ‚îÄ Feature: Search Autocomplete ‚îÄ‚îÄ

        function initAutocomplete() {
            if (typeof SHOWS_DATA === 'undefined') return;
            var input = document.getElementById('searchInput');
            var dropdown = document.getElementById('searchAutocomplete');
            if (!input || !dropdown) return;

            input.addEventListener('input', function() {
                var val = this.value.trim().toLowerCase();
                if (val.length < 2) {
                    dropdown.style.display = 'none';
                    return;
                }
                var matches = SHOWS_DATA.filter(function(s) {
                    return s.title.toLowerCase().indexOf(val) !== -1;
                }).slice(0, 8);
                if (matches.length === 0) {
                    dropdown.style.display = 'none';
                    return;
                }
                dropdown.innerHTML = matches.map(function(s) {
                    return '<div class="search-autocomplete-item" data-slug="' + escapeHtml(s.slug) + '">' +
                        '<div class="ac-title">' + escapeHtml(s.title) + '</div>' +
                        '<div class="ac-meta">' + escapeHtml(s.date) + ' &middot; ' + escapeHtml(s.city || '') + '</div>' +
                    '</div>';
                }).join('');
                dropdown.style.display = 'block';
            });

            dropdown.addEventListener('click', function(e) {
                var item = e.target.closest('.search-autocomplete-item');
                if (item && item.dataset.slug) {
                    window.location.href = '/shows/' + item.dataset.slug;
                }
            });

            // Dismiss on click outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-container')) {
                    dropdown.style.display = 'none';
                }
            });

            // Dismiss on Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    dropdown.style.display = 'none';
                }
            });
        }

        // ‚îÄ‚îÄ Feature: Recently Viewed Shows ‚îÄ‚îÄ

        function getRecentlyViewed() {
            try {
                return JSON.parse(localStorage.getItem('recentlyViewed')) || [];
            } catch(e) { return []; }
        }

        function saveRecentlyViewed(show) {
            var recent = getRecentlyViewed();
            // Remove if already exists
            recent = recent.filter(function(r) { return r.slug !== show.slug; });
            // Add to front
            recent.unshift({
                slug: show.slug,
                title: show.title,
                category: show.category,
                date: show.date,
                city: show.city || ''
            });
            // Max 6
            if (recent.length > 6) recent = recent.slice(0, 6);
            try { localStorage.setItem('recentlyViewed', JSON.stringify(recent)); } catch(e) {}
            renderRecentlyViewed();
        }

        function renderRecentlyViewed() {
            var section = document.getElementById('recentlyViewedSection');
            var strip = document.getElementById('recentlyViewedStrip');
            if (!section || !strip) return;
            var recent = getRecentlyViewed();
            if (recent.length === 0) {
                section.style.display = 'none';
                return;
            }
            section.style.display = 'block';
            strip.innerHTML = recent.map(function(r) {
                return '<a class="rv-card" href="/shows/' + escapeHtml(r.slug) + '">' +
                    '<div class="rv-card-category">' + escapeHtml(r.category) + '</div>' +
                    '<div class="rv-card-title">' + escapeHtml(r.title) + '</div>' +
                    '<div class="rv-card-meta">' + escapeHtml(r.date) + ' &middot; ' + escapeHtml(r.city) + '</div>' +
                '</a>';
            }).join('');
        }

        // ‚îÄ‚îÄ Feature: Save/Bookmark Shows ‚îÄ‚îÄ

        function getSavedShows() {
            try {
                return JSON.parse(localStorage.getItem('savedShows')) || [];
            } catch(e) { return []; }
        }

        function saveSavedShows(arr) {
            try { localStorage.setItem('savedShows', JSON.stringify(arr)); } catch(e) {}
        }

        window.toggleBookmark = function(slug, btnEl) {
            var saved = getSavedShows();
            var idx = saved.indexOf(slug);
            if (idx === -1) {
                saved.push(slug);
                btnEl.classList.add('bookmarked');
                showToast('Show saved!');
            } else {
                saved.splice(idx, 1);
                btnEl.classList.remove('bookmarked');
                showToast('Show removed');
            }
            saveSavedShows(saved);
            updateSavedPillVisibility();
            // If currently viewing saved filter, re-render
            if (currentFilter === 'saved') {
                visibleCount = ITEMS_PER_PAGE;
                applyFilters();
            }
        };

        function updateSavedPillVisibility() {
            var pill = document.getElementById('savedShowsPill');
            if (!pill) return;
            var saved = getSavedShows();
            pill.style.display = saved.length > 0 ? 'inline-block' : 'none';
            pill.textContent = 'Saved Shows (' + saved.length + ')';
        }

        // ‚îÄ‚îÄ Toast Notification ‚îÄ‚îÄ

        var toastTimer = null;
        function showToast(msg) {
            var el = document.getElementById('sftToast');
            if (!el) return;
            el.textContent = msg;
            el.classList.add('visible');
            clearTimeout(toastTimer);
            toastTimer = setTimeout(function() {
                el.classList.remove('visible');
            }, 2000);
        }

        // ‚îÄ‚îÄ Feature: Calendar Export (.ics) ‚îÄ‚îÄ

        window.downloadCalendarICS = function() {
            if (!currentModalShow) return;
            var show = currentModalShow;
            var dtstart = (show.sort_date || '').replace(/-/g, '');
            if (!dtstart) dtstart = '20260101';
            var location = escapeHtml((show.venue || '') + ', ' + (show.city || ''));
            var description = (show.description || show.title || '').replace(/\n/g, '\\n');
            var url = 'https://showfloortips.com/shows/' + show.slug;

            var ics = 'BEGIN:VCALENDAR\r\n' +
                'VERSION:2.0\r\n' +
                'BEGIN:VEVENT\r\n' +
                'DTSTART:' + dtstart + '\r\n' +
                'SUMMARY:' + show.title + '\r\n' +
                'LOCATION:' + (show.venue || '') + ', ' + (show.city || '') + '\r\n' +
                'DESCRIPTION:' + description + '\r\n' +
                'URL:' + url + '\r\n' +
                'END:VEVENT\r\n' +
                'END:VCALENDAR';

            var blob = new Blob([ics], { type: 'text/calendar;charset=utf-8' });
            var link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = (show.slug || 'show') + '.ics';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
            showToast('Calendar event downloaded!');
        };

        // ‚îÄ‚îÄ Init all new features ‚îÄ‚îÄ

        function initNewFeatures() {
            initAutocomplete();
            renderRecentlyViewed();
            updateSavedPillVisibility();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() { init(); initAddictionFeatures(); initNewFeatures(); });
        } else {
            init();
            initAddictionFeatures();
            initNewFeatures();
        }
    })();
    </script>

    <!-- Responsive overrides for addiction features -->
    <style>
        @media (max-width: 900px) {
            #countdownGrid, #trendingGrid { grid-template-columns: repeat(2, 1fr) !important; }
            #insightsGrid { grid-template-columns: 1fr !important; }
        }
        @media (max-width: 500px) {
            #countdownGrid, #trendingGrid { grid-template-columns: 1fr !important; }
        }
    </style>

    <script>
    function toggleDarkMode() {
        const html = document.documentElement;
        const isDark = html.getAttribute('data-theme') === 'dark';
        html.setAttribute('data-theme', isDark ? 'light' : 'dark');
        localStorage.setItem('theme', isDark ? 'light' : 'dark');
        document.getElementById('darkIcon').style.display = isDark ? 'block' : 'none';
        document.getElementById('lightIcon').style.display = isDark ? 'none' : 'block';
    }
    // Load saved theme
    (function() {
        const saved = localStorage.getItem('theme');
        if (saved === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            var di = document.getElementById('darkIcon');
            var li = document.getElementById('lightIcon');
            if (di) di.style.display = 'none';
            if (li) li.style.display = 'block';
        }
    })();

    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/sw.js').catch(function(){}); }
    </script>

</body>
</html>
