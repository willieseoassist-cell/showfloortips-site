<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M52J9WDRBW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M52J9WDRBW');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://images.unsplash.com">
    <link rel="dns-prefetch" href="https://images.unsplash.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <title>Loading... - ShowFloorTips</title>
    <link rel="canonical" href="https://showfloortips.com/show.html">
    <script>
    // Pre-render minimal Event schema from URL slug so Google sees it even if shows-full.js times out
    (function(){
        var m = window.location.pathname.match(/\/shows\/([^\/]+?)(?:\.html)?$/);
        if (!m) return;
        var slug = decodeURIComponent(m[1]);
        var name = slug.replace(/-/g,' ').replace(/\b\w/g,function(c){return c.toUpperCase();});
        var s = document.createElement('script');
        s.type = 'application/ld+json';
        s.id = 'event-schema-fallback';
        s.textContent = JSON.stringify({
            "@context":"https://schema.org",
            "@type":"Event",
            "name":name,
            "startDate":"2026-01-01",
            "endDate":"2026-01-01",
            "eventStatus":"https://schema.org/EventScheduled",
            "eventAttendanceMode":"https://schema.org/OfflineEventAttendanceMode",
            "description":"Trade show: "+name+". Find booth pricing, exhibitor tips, nearby hotels, and networking strategies at ShowFloorTips.",
            "image":"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=1200&h=630&fit=crop",
            "organizer":{"@type":"Organization","name":name+" Organizers","url":"https://showfloortips.com/shows/"+slug},
            "performer":{"@type":"Organization","name":name},
            "location":{"@type":"Place","name":name,"address":{"@type":"PostalAddress","addressCountry":"United States"}},
            "offers":{"@type":"Offer","name":"Exhibition Booth","description":"Contact organizer for booth pricing","url":"https://showfloortips.com/shows/"+slug,"availability":"https://schema.org/InStock"},
            "url":"https://showfloortips.com/shows/"+slug
        });
        document.head.appendChild(s);
    })();
    </script>
    <link rel="stylesheet" href="/styles.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/styles.css"></noscript>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .show-hero { position:relative; height:340px; background:#0a0a0a; display:flex; align-items:flex-end; overflow:hidden }
        .show-hero img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0.4 }
        .show-hero-content { position:relative; z-index:2; padding:2rem; max-width:1120px; margin:0 auto; width:100%; color:#fff }
        .show-hero h1 { font-size:2.5rem; font-weight:800; letter-spacing:-0.03em; margin-bottom:0.5rem }
        .show-meta { display:flex; flex-wrap:wrap; gap:1.5rem; font-size:0.95rem; opacity:0.9; margin-top:0.75rem }
        .show-meta span { display:flex; align-items:center; gap:0.4rem }
        .show-body { max-width:1120px; margin:0 auto; padding:2rem; display:grid; grid-template-columns:2fr 1fr; gap:2rem }
        .show-main { min-width:0 }
        .show-sidebar { min-width:0 }
        .info-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1rem; margin:1.5rem 0 }
        .info-card { background:#f8fafc; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem }
        .info-card h4 { font-size:0.75rem; text-transform:uppercase; letter-spacing:0.05em; color:#64748b; margin-bottom:0.5rem }
        .info-card p { font-size:1.05rem; font-weight:600; color:#1e293b }
        .section-block { margin:2rem 0 }
        .section-block h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .hotel-card { background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; margin-bottom:0.75rem; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:0.75rem; transition:border-color 0.2s, box-shadow 0.2s }
        .hotel-card:hover { border-color:#334155; box-shadow:0 2px 8px rgba(0,0,0,0.06) }
        .hotel-card h4 { font-weight:600; color:#1e293b; margin-bottom:0.25rem }
        .hotel-card .hotel-detail { font-size:0.85rem; color:#64748b }
        .hotel-card .hotel-info { flex:1; min-width:200px }
        .hotel-card .hotel-price { font-weight:600; color:#1e293b; font-size:0.95rem; margin-bottom:0.5rem }
        .tip-item { padding:0.75rem 0; border-bottom:1px solid #f1f5f9; font-size:0.95rem; color:#334155; line-height:1.6 }
        .tip-item:last-child { border-bottom:none }
        .sidebar-card { background:#fff; border:1px solid #e2e8f0; border-radius:16px; padding:1.5rem; margin-bottom:1.5rem }
        .sidebar-card h3 { font-size:1.1rem; font-weight:700; color:#0a0a0a; margin-bottom:1rem }
        .btn-visit { display:block; width:100%; padding:0.875rem; background:#0a0a0a; color:#fff; border:none; border-radius:10px; font-size:1rem; font-weight:600; text-align:center; cursor:pointer; text-decoration:none; transition:background 0.2s }
        .btn-visit:hover { background:#1e293b }
        .btn-scannly { display:block; width:100%; padding:0.875rem; background:#6366f1; color:#fff; border:none; border-radius:10px; font-size:0.95rem; font-weight:600; text-align:center; cursor:pointer; text-decoration:none; margin-top:0.75rem; transition:background 0.2s }
        .btn-scannly:hover { background:#818cf8 }
        .stat-row { display:flex; justify-content:space-between; padding:0.6rem 0; border-bottom:1px solid #f1f5f9; font-size:0.9rem }
        .stat-row:last-child { border-bottom:none }
        .stat-label { color:#64748b }
        .stat-value { font-weight:600; color:#1e293b }
        .cat-badge { display:inline-block; padding:0.25rem 0.75rem; border-radius:50px; font-size:0.75rem; font-weight:600; color:#fff; margin-right:0.5rem }
        .back-link { display:inline-flex; align-items:center; gap:0.4rem; color:#64748b; font-size:0.9rem; text-decoration:none; padding:1rem 2rem; transition:color 0.2s }
        .back-link:hover { color:#0a0a0a }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading { text-align:center; padding:4rem 2rem; font-size:1.2rem; color:#64748b }
        .not-found { text-align:center; padding:4rem 2rem }
        .not-found h2 { font-size:1.5rem; color:#0a0a0a; margin-bottom:0.5rem }

        /* Enhanced Hotel Button */
        .btn-book { display:inline-block; padding:0.6rem 1.25rem; background:#0a0a0a; color:#fff; border:none; border-radius:8px; font-size:0.85rem; font-weight:600; text-align:center; cursor:pointer; text-decoration:none; transition:background 0.2s; white-space:nowrap }
        .btn-book:hover { background:#334155 }
        .hotel-search-card { background:#f1f5f9; border:2px dashed #e2e8f0; border-radius:12px; padding:1.25rem; text-align:center; margin-top:0.75rem }
        .hotel-search-card p { color:#475569; font-size:0.9rem; margin-bottom:0.75rem }
        .hotel-search-card .btn-book { background:#334155 }
        .hotel-search-card .btn-book:hover { background:#1e293b }

        /* Travel Sections */
        .travel-section { margin:2rem 0 }
        .travel-section h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .transport-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:0.75rem }
        .transport-card { background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; transition:border-color 0.2s, box-shadow 0.2s; display:flex; flex-direction:column; justify-content:space-between }
        .transport-card:hover { border-color:#334155; box-shadow:0 2px 8px rgba(0,0,0,0.06) }
        .transport-card h4 { font-weight:600; color:#1e293b; margin-bottom:0.25rem; font-size:1rem }
        .transport-card .transport-sub { font-size:0.82rem; color:#64748b; margin-bottom:0.75rem }
        .transport-card .card-icon { font-size:1.5rem; margin-bottom:0.5rem; display:block }
        .transport-card-wide { grid-column:1 / -1; background:#f1f5f9; border:2px dashed #e2e8f0; border-radius:12px; padding:1.25rem; text-align:center }
        .transport-card-wide p { color:#475569; font-size:0.9rem; margin-bottom:0.75rem }
        .transport-card-wide .btn-book { background:#334155 }

        /* Product Section */
        .prepare-section { margin:2rem 0 }
        .prepare-section h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .product-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:1rem }
        .product-card { background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; transition:border-color 0.2s, box-shadow 0.2s; display:flex; flex-direction:column; justify-content:space-between }
        .product-card:hover { border-color:#334155; box-shadow:0 2px 8px rgba(0,0,0,0.06) }
        .product-card h4 { font-weight:600; color:#1e293b; margin-bottom:0.25rem; font-size:0.95rem }
        .product-card .product-price { font-weight:700; color:#059669; font-size:0.9rem; margin-bottom:0.35rem }
        .product-card .product-desc { font-size:0.82rem; color:#64748b; margin-bottom:0.75rem; line-height:1.4 }
        .product-card .btn-buy { display:inline-block; padding:0.55rem 1.25rem; background:#0a0a0a; color:#fff; border:none; border-radius:8px; font-size:0.82rem; font-weight:600; text-align:center; cursor:pointer; text-decoration:none; transition:background 0.2s }
        .product-card .btn-buy:hover { background:#334155 }
        .mega-bundle-cta { background:linear-gradient(135deg,#f8fafc,#eef2ff); border:2px solid #c7d2fe; border-radius:12px; padding:1.5rem; text-align:center; margin-top:1rem }
        .mega-bundle-cta h4 { font-size:1.1rem; font-weight:700; color:#0a0a0a; margin-bottom:0.35rem }
        .mega-bundle-cta p { font-size:0.9rem; color:#475569; margin-bottom:0.75rem }
        .mega-bundle-cta .btn-bundle { display:inline-block; padding:0.75rem 2rem; background:#6366f1; color:#fff; border:none; border-radius:10px; font-size:0.95rem; font-weight:600; text-decoration:none; transition:background 0.2s }
        .mega-bundle-cta .btn-bundle:hover { background:#818cf8 }
        @media(max-width:768px) { .product-grid { grid-template-columns:1fr } }

        /* Nearby Shows in Sidebar */
        .nearby-show { display:block; padding:0.75rem 0; border-bottom:1px solid #f1f5f9; text-decoration:none; transition:opacity 0.2s }
        .nearby-show:last-child { border-bottom:none }
        .nearby-show:hover { opacity:0.7 }
        .nearby-show h4 { font-size:0.9rem; font-weight:600; color:#1e293b; margin-bottom:0.2rem; line-height:1.3 }
        .nearby-show .nearby-detail { font-size:0.8rem; color:#64748b }

        /* Related Articles Section */
        .related-articles-section { max-width:1120px; margin:0 auto; padding:2rem 2rem 0 }
        .related-articles-section h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1.25rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .related-articles-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem }
        .related-article-card { background:#fff; border:1px solid #e2e8f0; border-radius:12px; overflow:hidden; transition:border-color 0.2s, box-shadow 0.2s }
        .related-article-card:hover { border-color:#334155; box-shadow:0 2px 8px rgba(0,0,0,0.06) }
        .related-article-card img { width:100%; height:160px; object-fit:cover }
        .related-article-card .ra-body { padding:1rem }
        .related-article-card .ra-category { display:inline-block; font-size:0.7rem; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; color:#6366f1; margin-bottom:0.5rem }
        .related-article-card h4 { font-size:0.95rem; font-weight:700; color:#0a0a0a; margin-bottom:0.5rem; line-height:1.3 }
        .related-article-card h4 a { color:inherit; text-decoration:none }
        .related-article-card h4 a:hover { color:#6366f1 }
        .related-article-card .ra-summary { font-size:0.82rem; color:#64748b; line-height:1.5; margin-bottom:0.75rem }
        .related-article-card .ra-link { display:inline-block; font-size:0.8rem; font-weight:600; color:#0a0a0a; text-decoration:none; transition:color 0.2s }
        .related-article-card .ra-link:hover { color:#6366f1 }
        @media(max-width:1024px) { .related-articles-grid { grid-template-columns:repeat(2,1fr) } }
        @media(max-width:640px) { .related-articles-grid { grid-template-columns:1fr } }

        /* Similar Shows Section */
        .similar-shows-section { max-width:1120px; margin:0 auto; padding:2rem 2rem 0 }
        .similar-shows-section h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1.25rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .similar-shows-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:1rem }
        .similar-card { background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; transition:border-color 0.2s, box-shadow 0.2s }
        .similar-card:hover { border-color:#334155; box-shadow:0 2px 8px rgba(0,0,0,0.06) }
        .similar-card h4 { font-size:0.95rem; font-weight:700; color:#0a0a0a; margin-bottom:0.5rem; line-height:1.3 }
        .similar-card .similar-date { font-size:0.82rem; color:#64748b; margin-bottom:0.25rem }
        .similar-card .similar-city { font-size:0.82rem; color:#64748b; margin-bottom:0.25rem }
        .similar-card .similar-attendees { font-size:0.78rem; color:#94a3b8; margin-bottom:0.75rem }
        .similar-card .similar-link { display:inline-block; padding:0.4rem 1rem; background:#0a0a0a; color:#fff; border-radius:6px; font-size:0.8rem; font-weight:600; text-decoration:none; transition:background 0.2s }
        .similar-card .similar-link:hover { background:#334155 }

        /* Reviews Section */
        .reviews-section { max-width:1120px; margin:0 auto; padding:2rem }
        .reviews-section h2 { font-size:1.35rem; font-weight:700; color:#0a0a0a; margin-bottom:1.25rem; padding-bottom:0.5rem; border-bottom:2px solid #e2e8f0 }
        .reviews-summary { display:flex; align-items:center; gap:1rem; margin-bottom:1.5rem; flex-wrap:wrap }
        .reviews-avg-stars { font-size:1.5rem; letter-spacing:1px; color:#f59e0b }
        .reviews-avg-num { font-size:1.75rem; font-weight:800; color:#0a0a0a }
        .reviews-count { font-size:0.9rem; color:#64748b }
        .reviews-sort { margin-bottom:1rem }
        .reviews-sort label { font-size:0.85rem; color:#64748b; margin-right:0.5rem }
        .reviews-sort select { padding:0.35rem 0.75rem; border:1px solid #e2e8f0; border-radius:6px; font-size:0.85rem; color:#1e293b; background:#fff; cursor:pointer }
        .review-item { background:#fff; border:1px solid #e2e8f0; border-radius:12px; padding:1.25rem; margin-bottom:0.75rem }
        .review-item-header { display:flex; align-items:center; gap:0.75rem; flex-wrap:wrap; margin-bottom:0.5rem }
        .review-stars { color:#f59e0b; font-size:1rem; letter-spacing:1px }
        .review-role-badge { display:inline-block; padding:0.15rem 0.6rem; background:#f1f5f9; border:1px solid #e2e8f0; border-radius:50px; font-size:0.72rem; font-weight:600; color:#475569 }
        .review-year { font-size:0.8rem; color:#94a3b8 }
        .review-text { font-size:0.9rem; color:#334155; line-height:1.7; margin-bottom:0.5rem }
        .review-worth { display:inline-block; padding:0.2rem 0.6rem; border-radius:50px; font-size:0.72rem; font-weight:600 }
        .review-worth-yes { background:#f0fdf4; color:#16a34a; border:1px solid #bbf7d0 }
        .review-worth-no { background:#fef2f2; color:#dc2626; border:1px solid #fecaca }
        .review-worth-maybe { background:#fefce8; color:#ca8a04; border:1px solid #fef08a }

        /* Review Form */
        .review-form-wrap { background:#fafafa; border:1px solid #e2e8f0; border-radius:12px; padding:1.5rem; margin-bottom:1.5rem }
        .review-form-wrap h3 { font-size:1.05rem; font-weight:700; color:#0a0a0a; margin-bottom:1rem }
        .review-form-row { margin-bottom:1rem }
        .review-form-row label { display:block; font-size:0.82rem; font-weight:600; color:#475569; margin-bottom:0.35rem; text-transform:uppercase; letter-spacing:0.03em }
        .review-form-row select, .review-form-row textarea { width:100%; padding:0.6rem 0.75rem; border:1px solid #e2e8f0; border-radius:8px; font-size:0.9rem; font-family:inherit; color:#1e293b; background:#fff; transition:border-color 0.2s }
        .review-form-row select:focus, .review-form-row textarea:focus { outline:none; border-color:#94a3b8 }
        .review-form-row textarea { resize:vertical; min-height:80px }
        .star-input { display:flex; gap:0.25rem; cursor:pointer }
        .star-input span { font-size:1.5rem; color:#d4d4d4; transition:color 0.15s; user-select:none }
        .star-input span.active { color:#f59e0b }
        .star-input span:hover, .star-input span:hover ~ span { color:#f59e0b }
        .worth-toggle { display:flex; gap:0.5rem }
        .worth-toggle button { padding:0.5rem 1.25rem; border:1px solid #e2e8f0; border-radius:8px; background:#fff; font-size:0.85rem; font-weight:600; color:#64748b; cursor:pointer; transition:all 0.15s }
        .worth-toggle button.selected { background:#0a0a0a; color:#fff; border-color:#0a0a0a }
        .btn-submit-review { padding:0.75rem 2rem; background:#0a0a0a; color:#fff; border:none; border-radius:10px; font-size:0.95rem; font-weight:600; cursor:pointer; transition:background 0.2s }
        .btn-submit-review:hover { background:#1e293b }
        .review-success { padding:0.75rem 1rem; background:#f0fdf4; border:1px solid #bbf7d0; color:#16a34a; border-radius:8px; font-size:0.9rem; margin-bottom:1rem; display:none }
        .no-reviews { text-align:center; padding:2rem; color:#94a3b8; font-size:0.9rem }

        @media(max-width:1024px) {
            .similar-shows-grid { grid-template-columns:repeat(2,1fr) }
        }
        @media(max-width:768px) {
            .show-body { grid-template-columns:1fr }
            .show-hero h1 { font-size:1.75rem }
            .show-hero { height:260px }
            .transport-grid { grid-template-columns:1fr }
            .similar-shows-grid { grid-template-columns:1fr }

            .hotel-card { flex-direction:column; align-items:flex-start }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-inner">
            <a href="/" class="logo">ShowFloorTips</a>
            <nav class="nav-links">
                <a href="/#shows">Trade Shows</a>
                <a href="/this-week.html">This Week</a>
                <a href="/news.html">News</a>
                <a href="/travel.html">Travel</a>
                <a href="/venue-maps.html">Maps</a>
                <a href="/roi-calculator.html">ROI Calculator</a>
                <a href="/guide.html">Guide</a> | <a href="/products.html">Products</a>
                <a href="/claim.html">For Organizers</a>
                <a href="/scannly.html" class="nav-cta">Try Scannly</a>
            </nav>
            <button class="mobile-menu-btn" onclick="document.querySelector('.nav-links').classList.toggle('show')" aria-label="Menu"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
        </div>
    </header>

    <a href="/" class="back-link"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to all shows</a>

    <div id="show-content">
        <div class="loading">Loading show details...</div>
    </div>

    <div id="related-articles-container"></div>
    <div id="similar-shows-container"></div>
    <div id="reviews-container"></div>

    <!-- Newsletter CTA Banner -->
    <section style="padding:3rem 2rem;background:#0a0a0a;text-align:center;margin-top:2rem;">
        <div style="max-width:540px;margin:0 auto;">
            <h3 style="font-family:'Inter',sans-serif;font-size:1.35rem;font-weight:700;color:#fff;margin-bottom:0.5rem;">Never Miss a Trade Show Update</h3>
            <p style="font-family:'Inter',sans-serif;font-size:0.95rem;color:#a3a3a3;margin-bottom:1.25rem;">Weekly show alerts, exhibitor strategies, and industry news. Join 10,000+ subscribers.</p>
            <form style="display:flex;gap:0.5rem;max-width:440px;margin:0 auto;" onsubmit="return sftSubscribe(event, this)">
                <input type="email" name="email" placeholder="your@email.com" required style="flex:1;padding:0.75rem 1rem;border:1px solid rgba(255,255,255,0.2);border-radius:8px;font-family:'Inter',sans-serif;font-size:0.95rem;color:#0a0a0a;background:#fff;outline:none;box-sizing:border-box;">
                <button type="submit" style="padding:0.75rem 1.5rem;background:#fff;color:#0a0a0a;border:none;border-radius:8px;font-family:'Inter',sans-serif;font-size:0.9rem;font-weight:700;cursor:pointer;white-space:nowrap;">Subscribe</button>
            </form>
            <p class="sft-form-msg" style="display:none;text-align:center;font-size:0.85rem;margin-top:0.75rem;color:#a3a3a3;"></p>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-inner">
            <p>ShowFloorTips - Your Guide to Trade Shows & Exhibitions</p>
            <p><a href="/news.html">News</a> &bull; <a href="/travel.html">Travel</a> &bull; <a href="/newsletter.html">Newsletter</a> &bull; <a href="/scannly.html">Scannly</a> &bull; <a href="/claim.html">Claim Your Show</a></p>
        </div>
    </footer>

    <!-- Newsletter Subscribe -->
    <script>
    window.sftSubscribe = function(e, form) {
        e.preventDefault();
        var email = form.querySelector('input[name="email"]').value.trim();
        var btn = form.querySelector('button[type="submit"]');
        var msg = form.closest('.sidebar-card') ? form.closest('.sidebar-card').querySelector('.sft-form-msg') : form.closest('section') ? form.closest('section').querySelector('.sft-form-msg') : null;
        if (!email) return false;
        btn.disabled = true; btn.textContent = 'Subscribing...';
        fetch('/api/subscribe', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: email }) })
        .then(function(r) { return r.json().then(function(d) { return { ok: r.ok, data: d }; }); })
        .then(function(res) {
            if (res.ok) {
                form.querySelector('input[name="email"]').value = '';
                btn.textContent = 'Subscribed!'; btn.style.background = '#16a34a'; btn.style.color = '#fff';
                if (msg) { msg.style.display = 'block'; msg.style.color = '#16a34a'; msg.textContent = 'Welcome aboard! Check your inbox.'; }
                setTimeout(function() { btn.disabled = false; btn.textContent = 'Subscribe Free'; btn.style.background = ''; btn.style.color = ''; }, 4000);
            } else {
                btn.disabled = false; btn.textContent = 'Subscribe Free';
                if (msg) { msg.style.display = 'block'; msg.style.color = '#dc2626'; msg.textContent = res.data.error || 'Something went wrong.'; }
            }
        })
        .catch(function() { btn.disabled = false; btn.textContent = 'Subscribe Free'; if (msg) { msg.style.display = 'block'; msg.style.color = '#dc2626'; msg.textContent = 'Connection error. Try again.'; } });
        return false;
    };
    </script>

    <script src="/shows-full.js" defer></script>
    <script src="/news.js" defer></script>
    <script>
    var _showPageInit = false;
    function initShowPage() {
        if (_showPageInit) return true;
        if (typeof defined_shows_full !== 'undefined') {
            window.SHOWS_DATA = defined_shows_full;
        }

        var slug = '';
        var path = window.location.pathname;
        // Handle /shows/slug.html or /shows/slug
        var m = path.match(/\/shows\/([^\/]+?)(?:\.html)?$/);
        if (m) slug = m[1];

        if (!slug || typeof SHOWS_DATA === 'undefined') {
            return false;
        }

        var show = null;
        for (var i = 0; i < SHOWS_DATA.length; i++) {
            if (SHOWS_DATA[i].slug === slug) {
                show = SHOWS_DATA[i];
                break;
            }
        }

        if (!show) {
            document.getElementById('show-content').innerHTML = '<div class="not-found"><h2>Show not found</h2><p>This show may have been removed or the URL is incorrect.</p><a href="/" class="btn-visit" style="max-width:200px;margin:1rem auto">Browse All Shows</a></div>';
            return;
        }

        document.title = show.title + ' - ShowFloorTips';

        // Dynamic meta tags for SEO
        var metaDesc = document.createElement('meta');
        metaDesc.name = 'description';
        metaDesc.content = show.title + ' - ' + (show.date || '2026') + ' in ' + (show.location || '') + '. Get venue details, nearby hotels, exhibitor tips, and booth pricing at ShowFloorTips.';
        document.head.appendChild(metaDesc);

        // Schema.org Event markup for Google rich results
        var showUrl = show.website || ('https://showfloortips.com/shows/' + show.slug);
        var showDate = show.sort_date || '2026-01-01';
        var schema = {
            '@context': 'https://schema.org',
            '@type': 'Event',
            'name': show.title,
            'description': show.description || ('Trade show: ' + show.title + ' in ' + (show.location || '') + '. Find booth pricing, exhibitor tips, nearby hotels, and networking strategies at ShowFloorTips.'),
            'url': showUrl,
            'startDate': showDate,
            'endDate': showDate,
            'eventAttendanceMode': 'https://schema.org/OfflineEventAttendanceMode',
            'eventStatus': 'https://schema.org/EventScheduled',
            'image': show.image || 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=1200&h=630&fit=crop',
            'organizer': { '@type': 'Organization', 'name': show.host || show.title + ' Organizers', 'url': showUrl },
            'performer': { '@type': 'Organization', 'name': show.host || show.title },
            'location': {
                '@type': 'Place',
                'name': show.venue || show.location || show.title,
                'address': {
                    '@type': 'PostalAddress',
                    'addressLocality': show.city || '',
                    'addressRegion': show.state || '',
                    'addressCountry': show.country || 'United States'
                }
            },
            'offers': {
                '@type': 'Offer',
                'name': 'Exhibition Booth',
                'description': show.booth_price ? ('Booth space: ' + show.booth_price) : 'Contact organizer for booth pricing',
                'url': showUrl,
                'availability': 'https://schema.org/InStock'
            }
        };
        // Replace fallback schema with real data
        var fallback = document.getElementById('event-schema-fallback');
        if (fallback) fallback.remove();
        var schemaScript = document.createElement('script');
        schemaScript.type = 'application/ld+json';
        schemaScript.textContent = JSON.stringify(schema);
        document.head.appendChild(schemaScript);

        // Canonical URL
        var canonical = document.createElement('link');
        canonical.rel = 'canonical';
        canonical.href = 'https://showfloortips.com/shows/' + show.slug;
        document.head.appendChild(canonical);

        var catColors = {
            'Technology':'#171717','Healthcare':'#171717','Food & Beverage':'#171717',
            'Fashion':'#171717','Fashion & Beauty':'#171717','Construction':'#171717',
            'Manufacturing':'#171717','Energy':'#171717','Finance':'#171717',
            'Education':'#171717','Real Estate':'#171717','Automotive':'#171717',
            'Agriculture':'#171717','Defense & Security':'#171717','Travel & Hospitality':'#171717',
            'Sports & Recreation':'#171717','Arts & Entertainment':'#171717',
            'Packaging & Logistics':'#171717','Environmental':'#171717','Pet & Animal':'#171717',
            'Business & Trade':'#171717'
        };
        var catColor = catColors[show.category] || '#475569';

        var loc = show.location || '';
        if (show.city) loc = show.city;
        if (show.state) loc += ', ' + show.state;
        if (show.country && show.country !== 'United States') loc = show.location + (show.country ? ', ' + show.country : '');

        // Official website link - use real URL if available, DuckDuckGo redirect as fallback
        var websiteUrl;
        if (show.website && show.website.indexOf('google.com/search') === -1 && show.website.indexOf('duckduckgo.com') === -1) {
            websiteUrl = show.website;
        } else {
            var searchTerms = encodeURIComponent('\\ ' + show.title + ' ' + (show.city || '') + ' official website');
            websiteUrl = 'https://duckduckgo.com/?q=' + searchTerms;
        }
        var websiteBtn = '<a href="' + websiteUrl + '" target="_blank" rel="noopener" class="btn-visit">Visit Official Website</a>';

        var infoCards = '';
        if (show.date) infoCards += '<div class="info-card"><h4>Dates</h4><p>' + show.date + '</p></div>';
        if (loc) infoCards += '<div class="info-card"><h4>Location</h4><p>' + loc + '</p></div>';
        if (show.attendees) infoCards += '<div class="info-card"><h4>Expected Attendees</h4><p>' + show.attendees + '</p></div>';
        if (show.exhibitors) infoCards += '<div class="info-card"><h4>Exhibitors</h4><p>' + show.exhibitors + '</p></div>';
        if (show.booth_price) infoCards += '<div class="info-card"><h4>Booth Price Range</h4><p>' + show.booth_price + '</p></div>';

        // --- ENHANCED HOTELS SECTION ---
        var cityName = show.city || '';
        var venueName = show.venue || '';

        var hotels = '<div class="section-block"><h2>Nearby Hotels</h2>';
        if (show.hotels && show.hotels.length > 0) {
            for (var h = 0; h < show.hotels.length; h++) {
                var hotel = show.hotels[h];
                var hotelPrice = hotel.price_range || hotel.price || '';
                var bookingUrl = 'https://www.booking.com/searchresults.html?ss=' + encodeURIComponent(hotel.name + ' ' + cityName);
                hotels += '<div class="hotel-card">';
                hotels += '<div class="hotel-info"><h4>' + hotel.name + '</h4>';
                hotels += '<div class="hotel-detail">' + (hotel.distance || 'Near venue') + '</div>';
                if (hotelPrice) hotels += '<div class="hotel-price">' + hotelPrice + '</div>';
                hotels += '</div>';
                hotels += '<a href="' + bookingUrl + '" target="_blank" rel="noopener" class="btn-book">Book Hotel</a>';
                hotels += '</div>';
            }
        }
        // General hotel search card (always shown)
        var generalBookingUrl = 'https://www.booking.com/searchresults.html?ss=' + encodeURIComponent((venueName || show.title) + ' ' + cityName);
        hotels += '<div class="hotel-search-card">';
        hotels += '<p>Find hotels near ' + (venueName || cityName || show.title) + '</p>';
        hotels += '<a href="' + generalBookingUrl + '" target="_blank" rel="noopener" class="btn-book">Search All Hotels</a>';
        hotels += '</div>';
        hotels += '</div>';

        // --- TRAVEL GUIDE BANNER ---
        var TRAVEL_GUIDE_SLUGS = {
            'las vegas': 'las-vegas', 'chicago': 'chicago', 'orlando': 'orlando',
            'new york': 'new-york', 'anaheim': 'anaheim', 'san francisco': 'san-francisco',
            'atlanta': 'atlanta', 'houston': 'houston', 'dallas': 'dallas', 'san diego': 'san-diego'
        };
        var cityLower = (cityName || '').toLowerCase();
        var travelSlug = TRAVEL_GUIDE_SLUGS[cityLower];
        if (travelSlug) {
            hotels += '<div style="background:#fafafa;border:1px solid #e5e5e5;border-radius:12px;padding:1.25rem 1.5rem;margin-top:1rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap">';
            hotels += '<span style="color:#525252;font-size:0.9rem">For more hotel tips, restaurants, and travel advice:</span>';
            hotels += '<a href="/travel/' + travelSlug + '-trade-show-travel-guide.html" style="display:inline-block;padding:0.5rem 1.25rem;background:#0a0a0a;color:#fff;border-radius:8px;font-size:0.8rem;font-weight:600;text-decoration:none;white-space:nowrap">Read ' + cityName + ' Travel Guide</a>';
            hotels += '</div>';
        }

        // --- RENTAL CARS SECTION ---
        var rentalCars = '<div class="travel-section"><h2>Rental Cars</h2>';
        rentalCars += '<div class="transport-grid">';

        var rentalCompanies = [
            { name: 'Enterprise', url: 'https://www.enterprise.com/en/reserve.html#location=' + encodeURIComponent(cityName), icon: '\uD83D\uDE97' },
            { name: 'Hertz', url: 'https://www.hertz.com/rentacar/reservation/', icon: '\uD83D\uDE99' },
            { name: 'Budget', url: 'https://www.budget.com/en/reserve', icon: '\uD83D\uDE98' },
            { name: 'National', url: 'https://www.nationalcar.com/en/reserve.html', icon: '\uD83D\uDE95' }
        ];

        for (var r = 0; r < rentalCompanies.length; r++) {
            var rc = rentalCompanies[r];
            rentalCars += '<div class="transport-card">';
            rentalCars += '<div>';
            rentalCars += '<span class="card-icon">' + rc.icon + '</span>';
            rentalCars += '<h4>' + rc.name + '</h4>';
            rentalCars += '<div class="transport-sub">Search ' + (cityName || 'local') + ' rentals</div>';
            rentalCars += '</div>';
            rentalCars += '<a href="' + rc.url + '" target="_blank" rel="noopener" class="btn-book">Reserve Car</a>';
            rentalCars += '</div>';
        }

        rentalCars += '</div>';
        // Compare all link
        var kayakCarsUrl = 'https://www.kayak.com/cars/' + encodeURIComponent(cityName);
        rentalCars += '<div class="transport-card-wide" style="margin-top:0.75rem">';
        rentalCars += '<p>Compare all car rentals in ' + (cityName || 'the area') + '</p>';
        rentalCars += '<a href="' + kayakCarsUrl + '" target="_blank" rel="noopener" class="btn-book">Compare on Kayak</a>';
        rentalCars += '</div>';
        rentalCars += '</div>';

        // --- TRAINS & TRANSIT SECTION ---
        var venueAndCity = venueName + ' ' + cityName;
        var transitSection = '<div class="travel-section"><h2>Trains & Transit</h2>';
        transitSection += '<div class="transport-grid">';

        var transitOptions = [
            {
                name: 'Amtrak',
                sub: 'Book Amtrak to ' + (cityName || 'your destination'),
                url: 'https://www.amtrak.com/tickets/departure.html',
                icon: '\uD83D\uDE86'
            },
            {
                name: 'Google Maps Transit',
                sub: 'Get transit directions to ' + (venueName || 'the venue'),
                url: 'https://www.google.com/maps/dir/?api=1&destination=' + encodeURIComponent(venueAndCity) + '&travelmode=transit',
                icon: '\uD83D\uDDFA\uFE0F'
            },
            {
                name: 'Uber',
                sub: 'Uber to ' + (venueName || 'the venue'),
                url: 'https://m.uber.com/looking?destination=' + encodeURIComponent(venueAndCity),
                icon: '\uD83D\uDE96'
            },
            {
                name: 'Lyft',
                sub: 'Get a Lyft',
                url: 'https://www.lyft.com/rider',
                icon: '\uD83D\uDE97'
            }
        ];

        for (var tr = 0; tr < transitOptions.length; tr++) {
            var to = transitOptions[tr];
            transitSection += '<div class="transport-card">';
            transitSection += '<div>';
            transitSection += '<span class="card-icon">' + to.icon + '</span>';
            transitSection += '<h4>' + to.name + '</h4>';
            transitSection += '<div class="transport-sub">' + to.sub + '</div>';
            transitSection += '</div>';
            transitSection += '<a href="' + to.url + '" target="_blank" rel="noopener" class="btn-book">Go</a>';
            transitSection += '</div>';
        }

        transitSection += '</div></div>';

        // --- FLIGHTS SECTION ---
        var flightsSection = '<div class="travel-section"><h2>Flights</h2>';
        flightsSection += '<div class="transport-grid">';

        var flightOptions = [
            {
                name: 'Kayak',
                sub: 'Search flights to ' + (cityName || 'your destination'),
                url: 'https://www.kayak.com/flights?to=' + encodeURIComponent(cityName),
                icon: '\u2708\uFE0F'
            },
            {
                name: 'Google Flights',
                sub: 'Google Flights to ' + (cityName || 'your destination'),
                url: 'https://www.google.com/travel/flights?q=flights+to+' + encodeURIComponent(cityName),
                icon: '\uD83C\uDF10'
            },
            {
                name: 'Skyscanner',
                sub: 'Compare on Skyscanner',
                url: 'https://www.skyscanner.com/transport/flights/?to=' + encodeURIComponent(cityName),
                icon: '\uD83D\uDEEB'
            }
        ];

        for (var fl = 0; fl < flightOptions.length; fl++) {
            var fo = flightOptions[fl];
            flightsSection += '<div class="transport-card">';
            flightsSection += '<div>';
            flightsSection += '<span class="card-icon">' + fo.icon + '</span>';
            flightsSection += '<h4>' + fo.name + '</h4>';
            flightsSection += '<div class="transport-sub">' + fo.sub + '</div>';
            flightsSection += '</div>';
            flightsSection += '<a href="' + fo.url + '" target="_blank" rel="noopener" class="btn-book">Search Flights</a>';
            flightsSection += '</div>';
        }

        flightsSection += '</div></div>';

        // --- TIPS SECTION ---
        var tips = '';
        if (show.tips && show.tips.length > 0) {
            tips = '<div class="section-block"><h2>Exhibitor Tips for ' + show.category + '</h2>';
            for (var t = 0; t < show.tips.length; t++) {
                tips += '<div class="tip-item">' + show.tips[t] + '</div>';
            }
            tips += '<div class="tip-item" style="padding:1rem 0;border-bottom:none">';
            tips += '<strong>Pro Tip:</strong> Use <a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" rel="noopener" style="color:#6366f1;font-weight:600">Scannly</a> to capture leads instantly at your booth. Scan badges, share contact info via QR code, and export leads in seconds.';
            tips += ' <a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" rel="noopener" class="btn-scannly" style="display:inline-block;width:auto;padding:0.5rem 1.25rem;margin-top:0.5rem;font-size:0.85rem">Download Scannly</a>';
            tips += '</div>';
            tips += '</div>';
        }

        // --- SIDEBAR: Quick Facts ---
        var sidebarStats = '';
        sidebarStats += '<div class="stat-row"><span class="stat-label">Category</span><span class="stat-value"><span class="cat-badge" style="background:' + catColor + '">' + show.category + '</span></span></div>';
        if (show.date) sidebarStats += '<div class="stat-row"><span class="stat-label">Date</span><span class="stat-value">' + show.date + '</span></div>';
        if (show.attendees) sidebarStats += '<div class="stat-row"><span class="stat-label">Attendees</span><span class="stat-value">' + show.attendees + '</span></div>';
        if (show.exhibitors) sidebarStats += '<div class="stat-row"><span class="stat-label">Exhibitors</span><span class="stat-value">' + show.exhibitors + '</span></div>';
        if (show.booth_price) sidebarStats += '<div class="stat-row"><span class="stat-label">Booth Cost</span><span class="stat-value">' + show.booth_price + '</span></div>';
        if (show.country) sidebarStats += '<div class="stat-row"><span class="stat-label">Country</span><span class="stat-value">' + show.country + '</span></div>';

        // --- SIDEBAR: Nearby Shows ---
        var nearbyShows = '';
        if (typeof SHOWS_DATA !== 'undefined' && show.category) {
            var related = [];
            for (var ns = 0; ns < SHOWS_DATA.length; ns++) {
                var s = SHOWS_DATA[ns];
                if (s.slug !== show.slug && s.category === show.category) {
                    related.push(s);
                }
                if (related.length >= 5) break;
            }
            if (related.length > 0) {
                nearbyShows = '<div class="sidebar-card"><h3>Related ' + show.category + ' Shows</h3>';
                for (var rn = 0; rn < related.length; rn++) {
                    var rs = related[rn];
                    var rsLoc = rs.city || '';
                    if (rs.state) rsLoc += ', ' + rs.state;
                    nearbyShows += '<a href="/shows/' + rs.slug + '" class="nearby-show">';
                    nearbyShows += '<h4>' + rs.title + '</h4>';
                    nearbyShows += '<div class="nearby-detail">' + (rs.date || '') + (rsLoc ? ' &middot; ' + rsLoc : '') + '</div>';
                    nearbyShows += '</a>';
                }
                nearbyShows += '</div>';
            }
        }

        // --- BUILD FULL HTML ---
        var html = '';

        // Hero section
        html += '<div class="show-hero"><img src="' + (show.image || 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&h=500&fit=crop') + '" alt="' + show.title + '">';
        html += '<div class="show-hero-content"><span class="cat-badge" style="background:' + catColor + '">' + show.category + '</span>';
        html += '<h1>' + show.title + '</h1>';
        html += '<div class="show-meta">';
        if (show.date) html += '<span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> ' + show.date + '</span>';
        if (loc) html += '<span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg> ' + loc + '</span>';
        html += '</div></div></div>';

        // Body: Main + Sidebar
        html += '<div class="show-body"><div class="show-main">';

        // Info grid
        html += '<div class="info-grid">' + infoCards + '</div>';

        // About section
        if (show.description) html += '<div class="section-block"><h2>About This Show</h2><p style="color:#334155;line-height:1.8">' + show.description + '</p></div>';

        // Enhanced Hotels
        html += hotels;

        // Widget Promotion Banner
        html += '<div style="background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #bae6fd;border-radius:12px;padding:1.25rem 1.5rem;margin:1.5rem 0;display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap">';
        html += '<div style="flex:1;min-width:200px"><p style="font-weight:700;color:#0c4a6e;font-size:0.95rem;margin-bottom:0.2rem">Add this show to your website</p><p style="color:#475569;font-size:0.82rem;line-height:1.5">Free embed widget. One line of code. Always up-to-date.</p></div>';
        html += '<a href="/widgets.html" style="display:inline-block;padding:0.6rem 1.25rem;background:#0a0a0a;color:#fff;border-radius:8px;font-size:0.82rem;font-weight:600;text-decoration:none;white-space:nowrap">Get Free Widget &rarr;</a>';
        html += '</div>';

        // Rental Cars
        html += rentalCars;

        // Trains & Transit
        html += transitSection;

        // Flights
        html += flightsSection;

        // Tips
        html += tips;

        // Prepare for This Show - Product Recommendations
        html += '<div class="prepare-section">';
        html += '<h2>Prepare for This Show</h2>';
        html += '<div class="product-grid">';
        html += '<div class="product-card">';
        html += '<div><h4>Pre-Show Planning Checklist</h4>';
        html += '<div class="product-price">$7.99</div>';
        html += '<div class="product-desc">Step-by-step checklist to ensure nothing falls through the cracks before show day.</div></div>';
        html += '<a href="https://buy.stripe.com/5kQcN66GY7iHetO4s13VC00" target="_blank" rel="noopener" class="btn-buy">Buy Now</a>';
        html += '</div>';
        html += '<div class="product-card">';
        html += '<div><h4>Trade Show Budget &amp; ROI Calculator</h4>';
        html += '<div class="product-price">$12.99</div>';
        html += '<div class="product-desc">Plan your budget and measure ROI with this ready-to-use spreadsheet tool.</div></div>';
        html += '<a href="https://buy.stripe.com/dRm3cwghydH599ubUt3VC05" target="_blank" rel="noopener" class="btn-buy">Buy Now</a>';
        html += '</div>';
        html += '<div class="product-card">';
        html += '<div><h4>Lead Follow-Up Checklist</h4>';
        html += '<div class="product-price">$7.99</div>';
        html += '<div class="product-desc">Never lose a hot lead\u2014structured follow-up system for post-show conversions.</div></div>';
        html += '<a href="https://buy.stripe.com/eVq9AU1mE6eDetO3nX3VC03" target="_blank" rel="noopener" class="btn-buy">Buy Now</a>';
        html += '</div>';
        html += '<div class="product-card">';
        html += '<div><h4>First-Time Exhibitor Guide</h4>';
        html += '<div class="product-price">$14.99</div>';
        html += '<div class="product-desc">Everything first-time exhibitors need to know, from booth setup to lead capture.</div></div>';
        html += '<a href="https://buy.stripe.com/aFa14o8P68mL85qe2B3VC0f" target="_blank" rel="noopener" class="btn-buy">Buy Now</a>';
        html += '</div>';
        html += '</div>';
        html += '<div class="mega-bundle-cta">';
        html += '<h4>Get All 19 Products for $49.99</h4>';
        html += '<p>Save over 70% with the complete trade show toolkit\u2014checklists, templates, calculators, and more.</p>';
        html += '<a href="https://buy.stripe.com/fZu14ofducD12L60bL3VC0k" target="_blank" rel="noopener" class="btn-bundle">Get the Mega Bundle</a>';
        html += '</div>';
        html += '</div>';

        // Amazon Affiliate - Trade Show Essentials
        html += '<div class="amazon-essentials" style="margin:2rem 0;padding:1.5rem;background:#fffbeb;border:1px solid #fbbf24;border-radius:12px">';
        html += '<h3 style="margin-bottom:0.25rem;color:#1e293b">Trade Show Essentials</h3>';
        html += '<p style="color:#92400e;font-size:0.8rem;margin-bottom:1rem">Top-rated gear recommended by exhibitors. As an Amazon Associate, we earn from qualifying purchases.</p>';
        html += '<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px">';
        html += '<a href="https://www.amazon.com/dp/B09VPHVT2Z?tag=showfloortips-20" target="_blank" rel="noopener sponsored" style="display:flex;flex-direction:column;align-items:center;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;text-decoration:none;transition:box-shadow 0.2s;gap:6px">';
        html += '<img src="/images/products/anker-737-power-bank.png" alt="Anker Portable Charger" style="width:60px;height:60px;object-fit:contain" loading="lazy">';
        html += '<span style="font-size:0.8rem;color:#1e293b;font-weight:600;text-align:center;line-height:1.3">Anker Portable Charger</span>';
        html += '<span style="font-size:0.75rem;color:#059669;font-weight:700">$109.99</span>';
        html += '</a>';
        html += '<a href="https://www.amazon.com/dp/B01M0A3BKH?tag=showfloortips-20" target="_blank" rel="noopener sponsored" style="display:flex;flex-direction:column;align-items:center;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;text-decoration:none;transition:box-shadow 0.2s;gap:6px">';
        html += '<img src="/images/products/samsonite-freeform-carry-on.jpg" alt="Samsonite Carry-On" style="width:60px;height:60px;object-fit:contain" loading="lazy">';
        html += '<span style="font-size:0.8rem;color:#1e293b;font-weight:600;text-align:center;line-height:1.3">Samsonite Carry-On</span>';
        html += '<span style="font-size:0.75rem;color:#059669;font-weight:700">$139.99</span>';
        html += '</a>';
        html += '<a href="https://www.amazon.com/dp/B074TZ9TS1?tag=showfloortips-20" target="_blank" rel="noopener sponsored" style="display:flex;flex-direction:column;align-items:center;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;text-decoration:none;transition:box-shadow 0.2s;gap:6px">';
        html += '<img src="/images/products/business-card-holder.jpg" alt="Business Card Holder" style="width:60px;height:60px;object-fit:contain" loading="lazy">';
        html += '<span style="font-size:0.8rem;color:#1e293b;font-weight:600;text-align:center;line-height:1.3">Business Card Holder</span>';
        html += '<span style="font-size:0.75rem;color:#059669;font-weight:700">$9.99</span>';
        html += '</a>';
        html += '<a href="https://www.amazon.com/dp/B017SKRWL4?tag=showfloortips-20" target="_blank" rel="noopener sponsored" style="display:flex;flex-direction:column;align-items:center;padding:12px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;text-decoration:none;transition:box-shadow 0.2s;gap:6px">';
        html += '<img src="/images/products/bagsmart-electronic-organizer.jpg" alt="Cable Organizer" style="width:60px;height:60px;object-fit:contain" loading="lazy">';
        html += '<span style="font-size:0.8rem;color:#1e293b;font-weight:600;text-align:center;line-height:1.3">BAGSMART Cable Organizer</span>';
        html += '<span style="font-size:0.75rem;color:#059669;font-weight:700">$15.99</span>';
        html += '</a>';
        html += '</div>';
        html += '<a href="/travel.html" style="display:block;text-align:center;margin-top:12px;font-size:0.8rem;color:#b45309;text-decoration:none;font-weight:500">View all travel gear recommendations &rarr;</a>';
        html += '</div>';

        // Scannly CTA
        html += '<div style="margin:2rem 0;padding:1.5rem;background:#eef2ff;border:1px solid #c7d2fe;border-radius:12px">';
        html += '<h3 style="margin-bottom:0.5rem;color:#1e293b">Capture More Leads at ' + show.title + '</h3>';
        html += '<p style="color:#475569;font-size:0.9rem;margin-bottom:1rem">Scannly lets attendees scan your QR code to instantly share contact info. No more lost business cards.</p>';
        html += '<a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" class="btn-scannly" style="max-width:220px">Get Scannly Free</a>';
        html += '</div>';

        html += '</div><div class="show-sidebar">';

        // Quick Facts
        html += '<div class="sidebar-card"><h3>Quick Facts</h3>' + sidebarStats + '</div>';

        // Visit / Scannly
        html += '<div class="sidebar-card">' + websiteBtn;
        html += '<a href="https://apps.apple.com/us/app/scannly/id6746970463" target="_blank" class="btn-scannly">Download Scannly</a>';
        html += '</div>';

        // Request Booth Info
        html += '<div class="sidebar-card">';
        html += '<h3>Request Booth Info</h3>';
        html += '<p style="font-size:0.85rem;color:#64748b;line-height:1.5;margin-bottom:1rem;">Interested in exhibiting? Submit your details and we\'ll send you booth availability and pricing.</p>';
        html += '<form id="sft-booth-form" style="display:flex;flex-direction:column;gap:10px">';
        html += '<input type="text" name="name" placeholder="Your Name" required style="width:100%;padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;font-size:0.9rem;font-family:Inter,-apple-system,sans-serif;outline:none;box-sizing:border-box">';
        html += '<input type="email" name="email" placeholder="Email Address" required style="width:100%;padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;font-size:0.9rem;font-family:Inter,-apple-system,sans-serif;outline:none;box-sizing:border-box">';
        html += '<input type="text" name="company" placeholder="Company Name" required style="width:100%;padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;font-size:0.9rem;font-family:Inter,-apple-system,sans-serif;outline:none;box-sizing:border-box">';
        html += '<button type="submit" style="width:100%;padding:0.875rem;background:#0a0a0a;color:#fff;border:none;border-radius:10px;font-size:0.95rem;font-weight:600;cursor:pointer;font-family:Inter,-apple-system,sans-serif;transition:background 0.2s">Request Info</button>';
        html += '</form>';
        html += '<p id="sft-booth-msg" style="display:none;font-size:0.85rem;color:#10b981;margin:10px 0 0;font-weight:500;text-align:center"></p>';
        html += '</div>';

        // Claim This Show CTA
        html += '<div class="sidebar-card" style="background:#fafafa;border:1px solid #e2e8f0;border-left:4px solid #0a0a0a">';
        html += '<h3 style="font-size:1rem;margin-bottom:0.5rem">Are you the organizer of this show?</h3>';
        html += '<p style="font-size:0.85rem;color:#64748b;line-height:1.5;margin-bottom:1rem">Take control of your listing. Update info, add branding, capture leads, and track analytics.</p>';
        html += '<a href="/claim.html?show=' + show.slug + '" class="btn-visit" style="margin-bottom:0.75rem">Claim This Listing</a>';
        html += '<div style="font-size:0.78rem;color:#94a3b8;line-height:1.6;margin-top:0.5rem">Update info &bull; Add your logo &bull; Capture leads &bull; Get analytics</div>';
        html += '</div>';


        // Nearby Shows
        html += nearbyShows;

        // Newsletter Signup
        html += '<div class="sidebar-card" style="background:#0a0a0a;border-color:#0a0a0a;">';
        html += '<h3 style="color:#fff;">Get Show Alerts</h3>';
        html += '<p style="color:#a3a3a3;font-size:0.85rem;line-height:1.5;margin-bottom:1rem;">Get weekly trade show tips, alerts, and exhibitor strategies delivered to your inbox.</p>';
        html += '<form onsubmit="return sftSubscribe(event, this)" style="margin:0;">';
        html += '<input type="email" name="email" placeholder="your@email.com" required style="width:100%;padding:0.7rem 0.9rem;border:1px solid #333;border-radius:8px;font-family:Inter,sans-serif;font-size:0.9rem;color:#fff;background:#1a1a1a;outline:none;box-sizing:border-box;margin-bottom:0.5rem;">';
        html += '<button type="submit" style="width:100%;padding:0.7rem;background:#fff;color:#0a0a0a;border:none;border-radius:8px;font-family:Inter,sans-serif;font-size:0.9rem;font-weight:700;cursor:pointer;">Subscribe Free</button>';
        html += '</form>';
        html += '<p class="sft-form-msg" style="display:none;text-align:center;font-size:0.8rem;margin-top:0.5rem;"></p>';
        html += '</div>';

        html += '</div></div>';

        document.getElementById('show-content').innerHTML = html;

        // Booth Info form handler
        var boothForm = document.getElementById('sft-booth-form');
        if (boothForm) {
            boothForm.addEventListener('submit', function(e) {
                e.preventDefault();
                var name = this.querySelector('input[name="name"]').value;
                var email = this.querySelector('input[name="email"]').value;
                var company = this.querySelector('input[name="company"]').value;
                var request = {
                    name: name,
                    email: email,
                    company: company,
                    show: show.title,
                    slug: show.slug,
                    date: new Date().toISOString()
                };
                var existing = [];
                try { existing = JSON.parse(localStorage.getItem('sft_booth_requests')) || []; } catch(ex) {}
                existing.push(request);
                localStorage.setItem('sft_booth_requests', JSON.stringify(existing));
                boothForm.style.display = 'none';
                var msg = document.getElementById('sft-booth-msg');
                msg.textContent = 'Request submitted! We\'ll be in touch soon.';
                msg.style.display = 'block';
            });
        }

        _showPageInit = true;
        return true;
    }

    // Show loading spinner and wait for deferred shows-full.js
    (function() {
        document.getElementById('show-content').innerHTML = '<div class="loading"><div style="width:40px;height:40px;border:3px solid #e5e5e5;border-top-color:#0a0a0a;border-radius:50%;animation:spin 0.8s linear infinite;margin:0 auto 16px"></div>Loading show details...</div>';

        if (!initShowPage()) {
            var retryCount = 0;
            var retryInterval = setInterval(function() {
                if (initShowPage()) {
                    clearInterval(retryInterval);
                } else if (++retryCount > 150) {
                    clearInterval(retryInterval);
                    document.getElementById('show-content').innerHTML = '<div class="not-found"><h2>Show not found</h2><p>This show may have been removed or the URL is incorrect.</p><a href="/" class="btn-visit" style="max-width:200px;margin:1rem auto">Browse All Shows</a></div>';
                }
            }, 200);
        }
    })();
    </script>

    <script>
    // ============================================================
    // Feature 0: Related Articles from NEWS_DATA
    // ============================================================
    var _relatedArticlesInit = false;
    function initRelatedArticles() {
        if (_relatedArticlesInit) return true;
        if (typeof NEWS_DATA === 'undefined') return false;

        var slug = '';
        var path = window.location.pathname;
        var m = path.match(/\/shows\/([^\/]+?)(?:\.html)?$/);
        if (m) slug = m[1];
        if (!slug || typeof SHOWS_DATA === 'undefined') return false;

        var currentShow = null;
        for (var i = 0; i < SHOWS_DATA.length; i++) {
            if (SHOWS_DATA[i].slug === slug) { currentShow = SHOWS_DATA[i]; break; }
        }
        if (!currentShow) return;

        // Build keyword list from show title, category, city
        var stopWords = ['the','and','for','with','from','this','that','are','was','were','been','have','has','its','not','but','what','all','can','had','her','one','our','out','you','your','when','how','each','she','which','their','will','other','about','many','then','them','into','some','than','only','come','made','like','long','look','just','over','such','take','year','also','back','use','way','new','get','more','most','make','know','still','show','shows','trade','expo','exhibition','conference','summit','forum','congress','world'];
        var titleWords = (currentShow.title || '').toLowerCase().replace(/[^a-z0-9\s]/g, '').split(/\s+/).filter(function(w) { return w.length > 2 && stopWords.indexOf(w) === -1; });
        var category = (currentShow.category || '').toLowerCase();
        var categoryWords = category.replace(/[^a-z0-9\s]/g, '').split(/\s+/).filter(function(w) { return w.length > 2 && stopWords.indexOf(w) === -1; });
        var city = (currentShow.city || '').toLowerCase();

        // Score each article
        var scored = [];
        for (var a = 0; a < NEWS_DATA.length; a++) {
            var article = NEWS_DATA[a];
            var artTitle = (article.title || '').toLowerCase();
            var artSummary = (article.summary || '').toLowerCase();
            var combined = artTitle + ' ' + artSummary;
            var score = 0;

            // Direct show name match (highest priority)
            var showNameClean = currentShow.title.replace(/\s*(20\d{2})\s*/g, '').trim().toLowerCase();
            if (showNameClean.length > 4 && combined.indexOf(showNameClean) !== -1) {
                score += 50;
            }

            // Title word matches
            for (var tw = 0; tw < titleWords.length; tw++) {
                if (combined.indexOf(titleWords[tw]) !== -1) score += 5;
            }

            // Category word matches
            for (var cw = 0; cw < categoryWords.length; cw++) {
                if (combined.indexOf(categoryWords[cw]) !== -1) score += 3;
            }

            // City match
            if (city && city.length > 2 && combined.indexOf(city) !== -1) score += 8;

            // Boost networking guides and comparisons (more useful for show visitors)
            var artCat = (article.category || '').toLowerCase();
            if (artCat === 'networking guides') score += 4;
            if (artCat === 'comparisons') score += 3;
            if (artCat === 'exhibitor tips') score += 2;
            if (artCat === 'cost guide') score += 2;

            if (score > 0) {
                scored.push({ article: article, score: score });
            }
        }

        // Sort by score descending, take top 6
        scored.sort(function(a, b) { return b.score - a.score; });
        var topArticles = scored.slice(0, 6);

        if (topArticles.length === 0) return;

        var container = document.getElementById('related-articles-container');
        var html = '<div class="related-articles-section">';
        html += '<h2>Related Articles & Guides</h2>';
        html += '<div class="related-articles-grid">';

        for (var ra = 0; ra < topArticles.length; ra++) {
            var art = topArticles[ra].article;
            var artUrl = art.url.charAt(0) === '/' ? art.url : '/' + art.url;
            var imgUrl = art.image_url || 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400&q=80';
            var summary = (art.summary || '').length > 120 ? art.summary.substring(0, 120) + '...' : (art.summary || '');

            html += '<div class="related-article-card">';
            html += '<a href="' + artUrl + '"><img src="' + imgUrl + '" alt="' + (art.title || '').replace(/"/g, '&quot;') + '" loading="lazy"></a>';
            html += '<div class="ra-body">';
            html += '<span class="ra-category">' + (art.category || 'Article') + '</span>';
            html += '<h4><a href="' + artUrl + '">' + art.title + '</a></h4>';
            html += '<p class="ra-summary">' + summary + '</p>';
            html += '<a href="' + artUrl + '" class="ra-link">Read More &rarr;</a>';
            html += '</div></div>';
        }

        html += '</div></div>';
        container.innerHTML = html;
        _relatedArticlesInit = true;
        return true;
    }
    // Retry for related articles (deferred news.js + shows-full.js)
    (function() {
        if (!initRelatedArticles()) {
            var rc = 0;
            var ri = setInterval(function() {
                if (initRelatedArticles()) clearInterval(ri);
                if (++rc > 150) clearInterval(ri);
            }, 200);
        }
    })();
    </script>

    <script>
    // ============================================================
    // Feature 1: Similar Shows You Might Like
    // Feature 2: Exhibitor Reviews with localStorage
    // ============================================================
    var _similarAndReviewsInit = false;
    function initSimilarAndReviews() {
        if (_similarAndReviewsInit) return true;
        // --- Resolve slug and current show ---
        var slug = '';
        var path = window.location.pathname;
        var m = path.match(/\/shows\/([^\/]+?)(?:\.html)?$/);
        if (m) slug = m[1];
        if (!slug || typeof SHOWS_DATA === 'undefined') return false;

        var currentShow = null;
        for (var i = 0; i < SHOWS_DATA.length; i++) {
            if (SHOWS_DATA[i].slug === slug) { currentShow = SHOWS_DATA[i]; break; }
        }
        if (!currentShow) return;

        // ============================================================
        // SIMILAR SHOWS
        // ============================================================
        (function buildSimilarShows() {
            var category = currentShow.category;
            if (!category) return;

            // Filter same-category shows, exclude current
            var sameCategory = [];
            for (var i = 0; i < SHOWS_DATA.length; i++) {
                var s = SHOWS_DATA[i];
                if (s.slug !== currentShow.slug && s.category === category) {
                    sameCategory.push(s);
                }
            }
            if (sameCategory.length === 0) return;

            // Sort by closest date to current show
            var currentSortDate = currentShow.sort_date || '2026-01-01';
            sameCategory.sort(function(a, b) {
                var da = a.sort_date || '2099-12-31';
                var db = b.sort_date || '2099-12-31';
                var diffA = Math.abs(new Date(da) - new Date(currentSortDate));
                var diffB = Math.abs(new Date(db) - new Date(currentSortDate));
                return diffA - diffB;
            });

            // Take first 4
            var shows = sameCategory.slice(0, 4);

            var html = '<div class="similar-shows-section">';
            html += '<h2>Similar Shows You Might Like</h2>';
            html += '<div class="similar-shows-grid">';

            for (var j = 0; j < shows.length; j++) {
                var s = shows[j];
                var city = s.city || '';
                if (s.state) city += ', ' + s.state;
                if (!city && s.location) city = s.location;

                html += '<div class="similar-card">';
                html += '<h4>' + s.title + '</h4>';
                html += '<div class="similar-date">' + (s.date || 'TBA') + '</div>';
                html += '<div class="similar-city">' + city + '</div>';
                if (s.attendees) html += '<div class="similar-attendees">' + s.attendees + ' attendees</div>';
                html += '<a href="/shows/' + s.slug + '" class="similar-link">View Guide</a>';
                html += '</div>';
            }

            html += '</div></div>';
            document.getElementById('similar-shows-container').innerHTML = html;
        })();

        // ============================================================
        // EXHIBITOR REVIEWS
        // ============================================================
        (function buildReviews() {
            var storageKey = 'reviews_' + slug;

            function getReviews() {
                try {
                    var data = localStorage.getItem(storageKey);
                    return data ? JSON.parse(data) : [];
                } catch(e) { return []; }
            }

            function saveReviews(reviews) {
                try { localStorage.setItem(storageKey, JSON.stringify(reviews)); } catch(e) {}
            }

            function renderStars(count) {
                var s = '';
                for (var i = 1; i <= 5; i++) {
                    s += i <= count ? '\u2605' : '\u2606';
                }
                return s;
            }

            function getAvgRating(reviews) {
                if (reviews.length === 0) return 0;
                var sum = 0;
                for (var i = 0; i < reviews.length; i++) sum += reviews[i].rating;
                return (sum / reviews.length).toFixed(1);
            }

            function worthClass(val) {
                if (val === 'Yes') return 'review-worth-yes';
                if (val === 'No') return 'review-worth-no';
                return 'review-worth-maybe';
            }

            function renderAll() {
                var reviews = getReviews();
                var container = document.getElementById('reviews-container');

                var html = '<div class="reviews-section">';
                html += '<h2>Exhibitor Reviews</h2>';

                // --- Summary ---
                if (reviews.length > 0) {
                    var avg = getAvgRating(reviews);
                    html += '<div class="reviews-summary">';
                    html += '<span class="reviews-avg-num">' + avg + '</span>';
                    html += '<span class="reviews-avg-stars">' + renderStars(Math.round(avg)) + '</span>';
                    html += '<span class="reviews-count">' + reviews.length + ' review' + (reviews.length !== 1 ? 's' : '') + '</span>';
                    html += '</div>';
                }

                // --- Review Form ---
                html += '<div class="review-form-wrap">';
                html += '<h3>Write a Review</h3>';
                html += '<div id="review-success" class="review-success">Your review has been submitted. Thank you!</div>';

                html += '<div class="review-form-row"><label>Star Rating</label>';
                html += '<div class="star-input" id="star-input">';
                for (var si = 1; si <= 5; si++) {
                    html += '<span data-value="' + si + '">\u2606</span>';
                }
                html += '</div></div>';

                html += '<div class="review-form-row"><label>Your Role</label>';
                html += '<select id="review-role"><option value="">Select your role</option>';
                html += '<option value="Exhibitor">Exhibitor</option>';
                html += '<option value="Attendee">Attendee</option>';
                html += '<option value="Speaker">Speaker</option>';
                html += '<option value="Organizer">Organizer</option>';
                html += '</select></div>';

                html += '<div class="review-form-row"><label>Year Attended</label>';
                html += '<select id="review-year"><option value="">Select year</option>';
                html += '<option value="2024">2024</option>';
                html += '<option value="2025">2025</option>';
                html += '<option value="2026">2026</option>';
                html += '</select></div>';

                html += '<div class="review-form-row"><label>Your Review</label>';
                html += '<textarea id="review-text" placeholder="Share your experience at this show..."></textarea></div>';

                html += '<div class="review-form-row"><label>Was it worth the investment?</label>';
                html += '<div class="worth-toggle" id="worth-toggle">';
                html += '<button type="button" data-value="Yes">Yes</button>';
                html += '<button type="button" data-value="No">No</button>';
                html += '<button type="button" data-value="Maybe">Maybe</button>';
                html += '</div></div>';

                html += '<button class="btn-submit-review" id="btn-submit-review">Submit Review</button>';
                html += '</div>';

                // --- Sort Controls ---
                if (reviews.length > 1) {
                    html += '<div class="reviews-sort">';
                    html += '<label for="review-sort">Sort by:</label>';
                    html += '<select id="review-sort">';
                    html += '<option value="recent">Most Recent</option>';
                    html += '<option value="highest">Highest Rated</option>';
                    html += '<option value="lowest">Lowest Rated</option>';
                    html += '</select></div>';
                }

                // --- Review List ---
                if (reviews.length === 0) {
                    html += '<div class="no-reviews">No reviews yet. Be the first to share your experience!</div>';
                } else {
                    html += '<div id="review-list">';
                    html += renderReviewList(reviews, 'recent');
                    html += '</div>';
                }

                html += '</div>';
                container.innerHTML = html;

                // --- Attach Event Listeners ---
                attachFormEvents();
            }

            function renderReviewList(reviews, sortBy) {
                var sorted = reviews.slice();
                if (sortBy === 'highest') {
                    sorted.sort(function(a, b) { return b.rating - a.rating; });
                } else if (sortBy === 'lowest') {
                    sorted.sort(function(a, b) { return a.rating - b.rating; });
                } else {
                    sorted.sort(function(a, b) { return (b.timestamp || 0) - (a.timestamp || 0); });
                }

                var html = '';
                for (var i = 0; i < sorted.length; i++) {
                    var r = sorted[i];
                    html += '<div class="review-item">';
                    html += '<div class="review-item-header">';
                    html += '<span class="review-stars">' + renderStars(r.rating) + '</span>';
                    if (r.role) html += '<span class="review-role-badge">' + r.role + '</span>';
                    if (r.year) html += '<span class="review-year">' + r.year + '</span>';
                    html += '</div>';
                    html += '<div class="review-text">' + escapeHtml(r.text) + '</div>';
                    if (r.worth) html += '<span class="review-worth ' + worthClass(r.worth) + '">Worth it: ' + r.worth + '</span>';
                    html += '</div>';
                }
                return html;
            }

            function escapeHtml(str) {
                var div = document.createElement('div');
                div.appendChild(document.createTextNode(str));
                return div.innerHTML;
            }

            function attachFormEvents() {
                // Star input
                var starInput = document.getElementById('star-input');
                var selectedRating = 0;
                if (starInput) {
                    var stars = starInput.querySelectorAll('span');
                    for (var si = 0; si < stars.length; si++) {
                        (function(star, idx) {
                            star.addEventListener('mouseenter', function() {
                                for (var k = 0; k < stars.length; k++) {
                                    stars[k].textContent = k <= idx ? '\u2605' : '\u2606';
                                    stars[k].classList.toggle('active', k <= idx);
                                }
                            });
                            star.addEventListener('click', function() {
                                selectedRating = idx + 1;
                                for (var k = 0; k < stars.length; k++) {
                                    stars[k].textContent = k <= idx ? '\u2605' : '\u2606';
                                    stars[k].classList.toggle('active', k <= idx);
                                }
                            });
                        })(stars[si], si);
                    }
                    starInput.addEventListener('mouseleave', function() {
                        for (var k = 0; k < stars.length; k++) {
                            stars[k].textContent = k < selectedRating ? '\u2605' : '\u2606';
                            stars[k].classList.toggle('active', k < selectedRating);
                        }
                    });
                }

                // Worth toggle
                var worthToggle = document.getElementById('worth-toggle');
                var selectedWorth = '';
                if (worthToggle) {
                    var btns = worthToggle.querySelectorAll('button');
                    for (var w = 0; w < btns.length; w++) {
                        (function(btn) {
                            btn.addEventListener('click', function() {
                                selectedWorth = btn.getAttribute('data-value');
                                for (var bk = 0; bk < btns.length; bk++) {
                                    btns[bk].classList.toggle('selected', btns[bk] === btn);
                                }
                            });
                        })(btns[w]);
                    }
                }

                // Submit
                var submitBtn = document.getElementById('btn-submit-review');
                if (submitBtn) {
                    submitBtn.addEventListener('click', function() {
                        var role = document.getElementById('review-role').value;
                        var year = document.getElementById('review-year').value;
                        var text = document.getElementById('review-text').value.trim();

                        // Validation
                        if (!selectedRating) { alert('Please select a star rating.'); return; }
                        if (!role) { alert('Please select your role.'); return; }
                        if (!year) { alert('Please select the year attended.'); return; }
                        if (!text) { alert('Please write a review.'); return; }

                        var review = {
                            rating: selectedRating,
                            role: role,
                            year: year,
                            text: text,
                            worth: selectedWorth || null,
                            timestamp: Date.now()
                        };

                        var reviews = getReviews();
                        reviews.push(review);
                        saveReviews(reviews);

                        // Re-render entire section
                        renderAll();

                        // Show success message
                        var successEl = document.getElementById('review-success');
                        if (successEl) { successEl.style.display = 'block'; }
                    });
                }

                // Sort change
                var sortSelect = document.getElementById('review-sort');
                if (sortSelect) {
                    sortSelect.addEventListener('change', function() {
                        var reviews = getReviews();
                        var listEl = document.getElementById('review-list');
                        if (listEl) {
                            listEl.innerHTML = renderReviewList(reviews, sortSelect.value);
                        }
                    });
                }
            }

            // Initial render
            renderAll();
        })();

        _similarAndReviewsInit = true;
        return true;
    }
    // Retry for similar shows and reviews (deferred shows-full.js)
    (function() {
        if (!initSimilarAndReviews()) {
            var rc = 0;
            var ri = setInterval(function() {
                if (initSimilarAndReviews()) clearInterval(ri);
                if (++rc > 150) clearInterval(ri);
            }, 200);
        }
    })();
    </script>

<div id="sft-popup" style="display:none;position:fixed;bottom:24px;right:24px;z-index:9999;background:#fff;border:1px solid #e2e8f0;border-radius:16px;padding:24px;max-width:360px;box-shadow:0 20px 60px rgba(0,0,0,0.15);font-family:Inter,-apple-system,sans-serif">
  <button onclick="document.getElementById('sft-popup').style.display='none'" style="position:absolute;top:12px;right:12px;background:none;border:none;font-size:1.25rem;cursor:pointer;color:#94a3b8;line-height:1">&times;</button>
  <h3 style="font-size:1.1rem;font-weight:700;color:#0a0a0a;margin:0 0 6px">Stay Ahead of the Show Floor</h3>
  <p style="font-size:0.875rem;color:#64748b;margin:0 0 16px;line-height:1.5">Get weekly trade show insights, exhibitor strategies, and industry news. Join 150+ professionals.</p>
  <form id="sft-popup-form" style="display:flex;gap:8px">
    <input type="email" placeholder="Your email" required style="flex:1;padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;font-size:0.9rem;outline:none;font-family:inherit">
    <button type="submit" style="padding:10px 18px;background:#0a0a0a;color:#fff;border:none;border-radius:8px;font-size:0.875rem;font-weight:600;cursor:pointer;white-space:nowrap;font-family:inherit">Subscribe</button>
  </form>
  <p id="sft-popup-msg" style="display:none;font-size:0.85rem;color:#10b981;margin:8px 0 0;font-weight:500"></p>
</div>
<script>
(function(){
  if(sessionStorage.getItem('sft_popup_shown')) return;
  var triggered=false;
  window.addEventListener('scroll',function(){
    if(triggered) return;
    var scrollPct=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight);
    if(scrollPct>0.4){
      triggered=true;
      sessionStorage.setItem('sft_popup_shown','1');
      document.getElementById('sft-popup').style.display='block';
    }
  });
  document.getElementById('sft-popup-form').addEventListener('submit',function(e){
    e.preventDefault();
    var email=this.querySelector('input').value;
    fetch('/api/subscribe',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email})})
    .then(function(r){return r.json()})
    .then(function(){
      document.getElementById('sft-popup-form').style.display='none';
      var msg=document.getElementById('sft-popup-msg');
      msg.textContent='You\'re in! Check your inbox.';
      msg.style.display='block';
    })
    .catch(function(){
      var msg=document.getElementById('sft-popup-msg');
      msg.textContent='Something went wrong. Try again.';
      msg.style.color='#ef4444';
      msg.style.display='block';
    });
  });
})();
</script>

<!-- Sticky CTA Bar -->
<div id="sft-sticky-cta" style="display:none;position:fixed;bottom:0;left:0;right:0;z-index:999;background:#0a0a0a;border-top:1px solid #1e293b;padding:12px 24px;box-shadow:0 -4px 20px rgba(0,0,0,0.15);transition:transform 0.3s ease;font-family:'Inter',sans-serif;">
    <div style="max-width:1120px;margin:0 auto;display:flex;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;">
        <span style="color:#fff;font-size:0.95rem;font-weight:600;">Plan your exhibit &rarr;</span>
        <a href="/roi-calculator.html" style="display:inline-flex;align-items:center;gap:6px;padding:8px 20px;background:#fff;color:#0a0a0a;border-radius:8px;font-size:0.85rem;font-weight:600;text-decoration:none;transition:background 0.2s;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            ROI Calculator
        </a>
        <a href="/products.html" style="display:inline-flex;align-items:center;gap:6px;padding:8px 20px;background:transparent;color:#fff;border:1px solid rgba(255,255,255,0.3);border-radius:8px;font-size:0.85rem;font-weight:600;text-decoration:none;transition:all 0.2s;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
            Products
        </a>
        <button id="sft-sticky-dismiss" style="background:none;border:none;color:#6b7280;cursor:pointer;padding:6px;margin-left:8px;font-size:1.1rem;line-height:1;" aria-label="Dismiss">&times;</button>
    </div>
</div>

<script>
(function() {
    var bar = document.getElementById('sft-sticky-cta');
    var dismissed = false;
    var shown = false;

    function checkScroll() {
        if (dismissed) return;
        var heroHeight = 340;
        if (window.scrollY > heroHeight && !shown) {
            bar.style.display = 'block';
            shown = true;
        } else if (window.scrollY <= heroHeight && shown) {
            bar.style.display = 'none';
            shown = false;
        }
    }

    window.addEventListener('scroll', checkScroll);

    document.getElementById('sft-sticky-dismiss').addEventListener('click', function() {
        bar.style.display = 'none';
        dismissed = true;
    });
})();
</script>

</body>
</html>
